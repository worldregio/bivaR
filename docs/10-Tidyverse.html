<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Partie 12 Initiation à tidyverse | Introduction à la statistique bivariée et aux représentations graphiques avec R</title>
  <meta name="description" content="Cours dispensé en M1 MECI Option Data" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="Partie 12 Initiation à tidyverse | Introduction à la statistique bivariée et aux représentations graphiques avec R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Cours dispensé en M1 MECI Option Data" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Partie 12 Initiation à tidyverse | Introduction à la statistique bivariée et aux représentations graphiques avec R" />
  
  <meta name="twitter:description" content="Cours dispensé en M1 MECI Option Data" />
  

<meta name="author" content="Claude Grasland" />


<meta name="date" content="2025-12-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="10-Cartographie-tmap.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="css/tidyverse.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">Introduction à la statistique bivariée et aux représentations graphiques avec R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>À propos de ce document</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#remerciements"><i class="fa fa-check"></i>Remerciements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#licence"><i class="fa fa-check"></i>Licence</a></li>
</ul></li>
<li class="part"><span><b>I DEBUTER EN R</b></span></li>
<li class="chapter" data-level="1" data-path="01-principes.html"><a href="01-principes.html"><i class="fa fa-check"></i><b>1</b> Premiers pas</a>
<ul>
<li class="chapter" data-level="1.1" data-path="01-principes.html"><a href="01-principes.html#opérations-arithmétiques"><i class="fa fa-check"></i><b>1.1</b> Opérations arithmétiques</a></li>
<li class="chapter" data-level="1.2" data-path="01-principes.html"><a href="01-principes.html#les-objets-de-base-valeur-vecteur-matrice"><i class="fa fa-check"></i><b>1.2</b> Les objets de base : valeur, vecteur, matrice</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="01-principes.html"><a href="01-principes.html#eléments"><i class="fa fa-check"></i><b>1.2.1</b> Eléments</a></li>
<li class="chapter" data-level="1.2.2" data-path="01-principes.html"><a href="01-principes.html#vecteurs-vectors"><i class="fa fa-check"></i><b>1.2.2</b> vecteurs (<em>vectors</em>)</a></li>
<li class="chapter" data-level="1.2.3" data-path="01-principes.html"><a href="01-principes.html#matrices-matrix"><i class="fa fa-check"></i><b>1.2.3</b> Matrices (<em>matrix</em>)</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="01-principes.html"><a href="01-principes.html#ne-pas-confondre-listes-et-vecteurs"><i class="fa fa-check"></i><b>1.3</b> Ne pas confondre listes et vecteurs !</a></li>
<li class="chapter" data-level="1.4" data-path="01-principes.html"><a href="01-principes.html#attention-aux-types-de-variables"><i class="fa fa-check"></i><b>1.4</b> Attention aux types de variables …</a></li>
<li class="chapter" data-level="1.5" data-path="01-principes.html"><a href="01-principes.html#types-de-tableaux-et-guerres-de-religion."><i class="fa fa-check"></i><b>1.5</b> Types de tableaux et guerres de religion.</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="01-principes.html"><a href="01-principes.html#le-type-data.frame"><i class="fa fa-check"></i><b>1.5.1</b> Le type <em>data.frame</em> :</a></li>
<li class="chapter" data-level="1.5.2" data-path="01-principes.html"><a href="01-principes.html#le-type-tibble"><i class="fa fa-check"></i><b>1.5.2</b> Le type <em>tibble</em></a></li>
<li class="chapter" data-level="1.5.3" data-path="01-principes.html"><a href="01-principes.html#le-type-data.table"><i class="fa fa-check"></i><b>1.5.3</b> Le type <em>data.table</em></a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="01-principes.html"><a href="01-principes.html#en-résumé"><i class="fa fa-check"></i><b>1.6</b> En résumé</a></li>
<li class="chapter" data-level="1.7" data-path="01-principes.html"><a href="01-principes.html#exercices"><i class="fa fa-check"></i><b>1.7</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="02-office-killer.html"><a href="02-office-killer.html"><i class="fa fa-check"></i><b>2</b> Office killer</a>
<ul>
<li class="chapter" data-level="2.1" data-path="02-office-killer.html"><a href="02-office-killer.html#rstudio-et-les-projets-r"><i class="fa fa-check"></i><b>2.1</b> Rstudio et les projets R</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="02-office-killer.html"><a href="02-office-killer.html#lancement-de-r-studio"><i class="fa fa-check"></i><b>2.1.1</b> Lancement de R studio</a></li>
<li class="chapter" data-level="2.1.2" data-path="02-office-killer.html"><a href="02-office-killer.html#création-dun-projet"><i class="fa fa-check"></i><b>2.1.2</b> Création d’un projet</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="02-office-killer.html"><a href="02-office-killer.html#programme-r-excel-killer"><i class="fa fa-check"></i><b>2.2</b> Programme R : Excel killer ?</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="02-office-killer.html"><a href="02-office-killer.html#round-1-importation-du-tableau-de-données"><i class="fa fa-check"></i><b>2.2.1</b> Round 1 : Importation du tableau de données</a></li>
<li class="chapter" data-level="2.2.2" data-path="02-office-killer.html"><a href="02-office-killer.html#round-2.-inventaire-des-sports-disponible"><i class="fa fa-check"></i><b>2.2.2</b> Round 2. Inventaire des sports disponible</a></li>
<li class="chapter" data-level="2.2.3" data-path="02-office-killer.html"><a href="02-office-killer.html#round-3.-sélection-dun-sport"><i class="fa fa-check"></i><b>2.2.3</b> Round 3. Sélection d’un sport</a></li>
<li class="chapter" data-level="2.2.4" data-path="02-office-killer.html"><a href="02-office-killer.html#round-4.-analyse-de-lâge-du-poids-de-la-taille-et-de-limc-des-sportifs"><i class="fa fa-check"></i><b>2.2.4</b> Round 4. Analyse de l’âge, du poids, de la taille et de l’IMC des sportifs</a></li>
<li class="chapter" data-level="2.2.5" data-path="02-office-killer.html"><a href="02-office-killer.html#round-5-nombre-de-médailles-dor-par-pays-et-par-épreuve"><i class="fa fa-check"></i><b>2.2.5</b> Round 5 : Nombre de médailles d’or par pays et par épreuve</a></li>
<li class="chapter" data-level="2.2.6" data-path="02-office-killer.html"><a href="02-office-killer.html#dernier-round.-refaire-toute-lanalyse-en-changeant-de-sport"><i class="fa fa-check"></i><b>2.2.6</b> Dernier round. Refaire toute l’analyse en changeant de sport</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="02-office-killer.html"><a href="02-office-killer.html#document-rmd-word-killer"><i class="fa fa-check"></i><b>2.3</b> Document Rmd : Word killer ?</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="02-office-killer.html"><a href="02-office-killer.html#préparation-du-document-rmarkdown"><i class="fa fa-check"></i><b>2.3.1</b> Préparation du document Rmarkdown</a></li>
<li class="chapter" data-level="2.3.2" data-path="02-office-killer.html"><a href="02-office-killer.html#préparation-du-plan"><i class="fa fa-check"></i><b>2.3.2</b> Préparation du plan</a></li>
<li class="chapter" data-level="2.3.3" data-path="02-office-killer.html"><a href="02-office-killer.html#ajout-dimages-externes"><i class="fa fa-check"></i><b>2.3.3</b> Ajout d’images externes</a></li>
<li class="chapter" data-level="2.3.4" data-path="02-office-killer.html"><a href="02-office-killer.html#ajout-de-texte"><i class="fa fa-check"></i><b>2.3.4</b> Ajout de texte</a></li>
<li class="chapter" data-level="2.3.5" data-path="02-office-killer.html"><a href="02-office-killer.html#ajout-dun-tableau"><i class="fa fa-check"></i><b>2.3.5</b> Ajout d’un tableau</a></li>
<li class="chapter" data-level="2.3.6" data-path="02-office-killer.html"><a href="02-office-killer.html#ajout-dun-graphique"><i class="fa fa-check"></i><b>2.3.6</b> Ajout d’un graphique</a></li>
<li class="chapter" data-level="2.3.7" data-path="02-office-killer.html"><a href="02-office-killer.html#ajout-dune-carte"><i class="fa fa-check"></i><b>2.3.7</b> Ajout d’une carte</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="02-office-killer.html"><a href="02-office-killer.html#diapos-rmd-power-point-killer"><i class="fa fa-check"></i><b>2.4</b> Diapos Rmd : Power Point killer</a></li>
<li class="chapter" data-level="2.5" data-path="02-office-killer.html"><a href="02-office-killer.html#en-résumé-1"><i class="fa fa-check"></i><b>2.5</b> En résumé</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="03-R-Base.html"><a href="03-R-Base.html"><i class="fa fa-check"></i><b>3</b> R-Base</a>
<ul>
<li class="chapter" data-level="3.1" data-path="03-R-Base.html"><a href="03-R-Base.html#tableaux"><i class="fa fa-check"></i><b>3.1</b> Tableaux</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="03-R-Base.html"><a href="03-R-Base.html#importation"><i class="fa fa-check"></i><b>3.1.1</b> Importation</a></li>
<li class="chapter" data-level="3.1.2" data-path="03-R-Base.html"><a href="03-R-Base.html#transformations"><i class="fa fa-check"></i><b>3.1.2</b> Transformations</a></li>
<li class="chapter" data-level="3.1.3" data-path="03-R-Base.html"><a href="03-R-Base.html#extractions"><i class="fa fa-check"></i><b>3.1.3</b> Extractions</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="03-R-Base.html"><a href="03-R-Base.html#exploration-i-var.-quali."><i class="fa fa-check"></i><b>3.2</b> Exploration I (<em>var. quali.</em>)</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="03-R-Base.html"><a href="03-R-Base.html#sélection-et-recodage"><i class="fa fa-check"></i><b>3.2.1</b> Sélection et recodage</a></li>
<li class="chapter" data-level="3.2.2" data-path="03-R-Base.html"><a href="03-R-Base.html#table-de-dénombrement"><i class="fa fa-check"></i><b>3.2.2</b> Table de dénombrement</a></li>
<li class="chapter" data-level="3.2.3" data-path="03-R-Base.html"><a href="03-R-Base.html#graphique-avec-plot"><i class="fa fa-check"></i><b>3.2.3</b> Graphique avec plot()</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="03-R-Base.html"><a href="03-R-Base.html#exploration-ii-var.-quanti"><i class="fa fa-check"></i><b>3.3</b> Exploration II (<em>var. quanti</em>)</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="03-R-Base.html"><a href="03-R-Base.html#résumés-numériques"><i class="fa fa-check"></i><b>3.3.1</b> Résumés numériques</a></li>
<li class="chapter" data-level="3.3.2" data-path="03-R-Base.html"><a href="03-R-Base.html#dénombrement"><i class="fa fa-check"></i><b>3.3.2</b> Dénombrement</a></li>
<li class="chapter" data-level="3.3.3" data-path="03-R-Base.html"><a href="03-R-Base.html#boîte-à-moustaches"><i class="fa fa-check"></i><b>3.3.3</b> Boîte à moustaches</a></li>
<li class="chapter" data-level="3.3.4" data-path="03-R-Base.html"><a href="03-R-Base.html#histogramme"><i class="fa fa-check"></i><b>3.3.4</b> Histogramme</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="03-R-Base.html"><a href="03-R-Base.html#exploration-iii-2-variables"><i class="fa fa-check"></i><b>3.4</b> Exploration III (<em>2 variables</em>)</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="03-R-Base.html"><a href="03-R-Base.html#deux-variables-qualitatives"><i class="fa fa-check"></i><b>3.4.1</b> Deux variables qualitatives</a></li>
<li class="chapter" data-level="3.4.2" data-path="03-R-Base.html"><a href="03-R-Base.html#deux-variables-quantitatives"><i class="fa fa-check"></i><b>3.4.2</b> Deux variables quantitatives</a></li>
<li class="chapter" data-level="3.4.3" data-path="03-R-Base.html"><a href="03-R-Base.html#une-quantitative-et-une-qualitative"><i class="fa fa-check"></i><b>3.4.3</b> Une quantitative et une qualitative</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="03-R-Base.html"><a href="03-R-Base.html#en-résumé-2"><i class="fa fa-check"></i><b>3.5</b> En résumé</a></li>
</ul></li>
<li class="part"><span><b>II VARIABLES QUANTITATIVES</b></span></li>
<li class="chapter" data-level="4" data-path="04-Corrélation.html"><a href="04-Corrélation.html"><i class="fa fa-check"></i><b>4</b> Corrélation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="04-Corrélation.html"><a href="04-Corrélation.html#préparation-des-données"><i class="fa fa-check"></i><b>4.1</b> Préparation des données</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="04-Corrélation.html"><a href="04-Corrélation.html#chargement-du-tableau-principal"><i class="fa fa-check"></i><b>4.1.1</b> Chargement du tableau principal</a></li>
<li class="chapter" data-level="4.1.2" data-path="04-Corrélation.html"><a href="04-Corrélation.html#choix-des-deux-variables-à-analyser"><i class="fa fa-check"></i><b>4.1.2</b> Choix des deux variables à analyser</a></li>
<li class="chapter" data-level="4.1.3" data-path="04-Corrélation.html"><a href="04-Corrélation.html#on-est-malin"><i class="fa fa-check"></i><b>4.1.3</b> On est malin …</a></li>
<li class="chapter" data-level="4.1.4" data-path="04-Corrélation.html"><a href="04-Corrélation.html#on-est-paresseux"><i class="fa fa-check"></i><b>4.1.4</b> On est paresseux …</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="04-Corrélation.html"><a href="04-Corrélation.html#exploration-visuelle"><i class="fa fa-check"></i><b>4.2</b> Exploration visuelle</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="04-Corrélation.html"><a href="04-Corrélation.html#visualisation-avec-plotxy"><i class="fa fa-check"></i><b>4.2.1</b> Visualisation avec plot(X,Y)</a></li>
<li class="chapter" data-level="4.2.2" data-path="04-Corrélation.html"><a href="04-Corrélation.html#identification-des-points-avec-cor-text"><i class="fa fa-check"></i><b>4.2.2</b> Identification des points avec <strong>cor</strong> + <strong>text(…)</strong></a></li>
<li class="chapter" data-level="4.2.3" data-path="04-Corrélation.html"><a href="04-Corrélation.html#ajout-de-lignes-horizontales-ou-verticales-avec-cor-abline"><i class="fa fa-check"></i><b>4.2.3</b> Ajout de lignes horizontales ou verticales avec <strong>cor()</strong> + <strong>abline(…)</strong></a></li>
<li class="chapter" data-level="4.2.4" data-path="04-Corrélation.html"><a href="04-Corrélation.html#au-delà-de-r-base"><i class="fa fa-check"></i><b>4.2.4</b> Au delà de R-Base …</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="04-Corrélation.html"><a href="04-Corrélation.html#coefficients-de-corrélation"><i class="fa fa-check"></i><b>4.3</b> Coefficients de corrélation</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="04-Corrélation.html"><a href="04-Corrélation.html#définition"><i class="fa fa-check"></i><b>4.3.1</b> Définition</a></li>
<li class="chapter" data-level="4.3.2" data-path="04-Corrélation.html"><a href="04-Corrélation.html#la-fonction-cor"><i class="fa fa-check"></i><b>4.3.2</b> La fonction <strong>cor()</strong></a></li>
<li class="chapter" data-level="4.3.3" data-path="04-Corrélation.html"><a href="04-Corrélation.html#la-fonction-cor.test"><i class="fa fa-check"></i><b>4.3.3</b> La fonction cor.test()</a></li>
<li class="chapter" data-level="4.3.4" data-path="04-Corrélation.html"><a href="04-Corrélation.html#en-résumé-intensité-ou-significativité"><i class="fa fa-check"></i><b>4.3.4</b> En résumé : intensité ou significativité ?</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="04-Corrélation.html"><a href="04-Corrélation.html#matrice-de-corrélation"><i class="fa fa-check"></i><b>4.4</b> Matrice de corrélation</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="04-Corrélation.html"><a href="04-Corrélation.html#objectif-de-lanalyse"><i class="fa fa-check"></i><b>4.4.1</b> Objectif de l’analyse</a></li>
<li class="chapter" data-level="4.4.2" data-path="04-Corrélation.html"><a href="04-Corrélation.html#utilisation-des-résultats"><i class="fa fa-check"></i><b>4.4.2</b> Utilisation des résultats</a></li>
<li class="chapter" data-level="4.4.3" data-path="04-Corrélation.html"><a href="04-Corrélation.html#visualisation-dune-matrice-de-corrélation"><i class="fa fa-check"></i><b>4.4.3</b> Visualisation d’une matrice de corrélation</a></li>
<li class="chapter" data-level="4.4.4" data-path="04-Corrélation.html"><a href="04-Corrélation.html#exemple-création-dun-tableau-quantitatif"><i class="fa fa-check"></i><b>4.4.4</b> Exemple : création d’un tableau quantitatif</a></li>
<li class="chapter" data-level="4.4.5" data-path="04-Corrélation.html"><a href="04-Corrélation.html#utilisation-du-package-psych"><i class="fa fa-check"></i><b>4.4.5</b> Utilisation du package psych</a></li>
<li class="chapter" data-level="4.4.6" data-path="04-Corrélation.html"><a href="04-Corrélation.html#utilisation-du-package-factominer"><i class="fa fa-check"></i><b>4.4.6</b> Utilisation du package factoMineR</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="05-Régression.html"><a href="05-Régression.html"><i class="fa fa-check"></i><b>5</b> Régression</a>
<ul>
<li class="chapter" data-level="5.1" data-path="05-Régression.html"><a href="05-Régression.html#préparation-des-données-1"><i class="fa fa-check"></i><b>5.1</b> Préparation des données</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="05-Régression.html"><a href="05-Régression.html#chargement-du-tableau-principal-1"><i class="fa fa-check"></i><b>5.1.1</b> Chargement du tableau principal</a></li>
<li class="chapter" data-level="5.1.2" data-path="05-Régression.html"><a href="05-Régression.html#choix-des-deux-variables-à-analyser-1"><i class="fa fa-check"></i><b>5.1.2</b> Choix des deux variables à analyser</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="05-Régression.html"><a href="05-Régression.html#forme-de-la-relation"><i class="fa fa-check"></i><b>5.2</b> Forme de la relation</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="05-Régression.html"><a href="05-Régression.html#vérification-de-la-normalité-de-x-et-y"><i class="fa fa-check"></i><b>5.2.1</b> Vérification de la normalité de X et Y</a></li>
<li class="chapter" data-level="5.2.2" data-path="05-Régression.html"><a href="05-Régression.html#visualisation-de-la-forme-de-la-relation"><i class="fa fa-check"></i><b>5.2.2</b> Visualisation de la forme de la relation</a></li>
<li class="chapter" data-level="5.2.3" data-path="05-Régression.html"><a href="05-Régression.html#analyse-de-la-corrélation"><i class="fa fa-check"></i><b>5.2.3</b> Analyse de la corrélation</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="05-Régression.html"><a href="05-Régression.html#ajustement-du-modèle"><i class="fa fa-check"></i><b>5.3</b> Ajustement du modèle</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="05-Régression.html"><a href="05-Régression.html#hypothèses-statistiques"><i class="fa fa-check"></i><b>5.3.1</b> Hypothèses statistiques</a></li>
<li class="chapter" data-level="5.3.2" data-path="05-Régression.html"><a href="05-Régression.html#la-fonction-lm"><i class="fa fa-check"></i><b>5.3.2</b> La fonction lm()</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="05-Régression.html"><a href="05-Régression.html#diagnostics-du-modèle"><i class="fa fa-check"></i><b>5.4</b> Diagnostics du modèle</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="05-Régression.html"><a href="05-Régression.html#diagnostic-1-indépendance-des-résidus"><i class="fa fa-check"></i><b>5.4.1</b> Diagnostic 1 : Indépendance des résidus ?</a></li>
<li class="chapter" data-level="5.4.2" data-path="05-Régression.html"><a href="05-Régression.html#diagnostic-2-normalité-des-résidus"><i class="fa fa-check"></i><b>5.4.2</b> Diagnostic 2 : Normalité des résidus ?</a></li>
<li class="chapter" data-level="5.4.3" data-path="05-Régression.html"><a href="05-Régression.html#diagnostic-3-homogénéité-des-résidus"><i class="fa fa-check"></i><b>5.4.3</b> Diagnostic 3 : Homogénéité des résidus ?</a></li>
<li class="chapter" data-level="5.4.4" data-path="05-Régression.html"><a href="05-Régression.html#diagnostic-4-absence-de-valeur-exceptionnelles"><i class="fa fa-check"></i><b>5.4.4</b> Diagnostic 4 : Absence de valeur exceptionnelles ?</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="05-Régression.html"><a href="05-Régression.html#améliorations-du-modèle"><i class="fa fa-check"></i><b>5.5</b> Améliorations du modèle</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="05-Régression.html"><a href="05-Régression.html#modèle-linéaire-r2-46"><i class="fa fa-check"></i><b>5.5.1</b> Modèle linéaire (R2 = 46%)</a></li>
<li class="chapter" data-level="5.5.2" data-path="05-Régression.html"><a href="05-Régression.html#modèle-linéaire-sans-lalbanie-r2-53"><i class="fa fa-check"></i><b>5.5.2</b> Modèle linéaire sans l’Albanie (R2 = 53%)</a></li>
<li class="chapter" data-level="5.5.3" data-path="05-Régression.html"><a href="05-Régression.html#modèle-exponentiel-r2-63"><i class="fa fa-check"></i><b>5.5.3</b> Modèle exponentiel (R2 = 63%)</a></li>
<li class="chapter" data-level="5.5.4" data-path="05-Régression.html"><a href="05-Régression.html#modèle-puissance-r2-83"><i class="fa fa-check"></i><b>5.5.4</b> Modèle puissance (R2 = 83%)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="06-Anova.html"><a href="06-Anova.html"><i class="fa fa-check"></i><b>6</b> Analyse de variance</a>
<ul>
<li class="chapter" data-level="6.1" data-path="06-Anova.html"><a href="06-Anova.html#préparation-des-données-2"><i class="fa fa-check"></i><b>6.1</b> Préparation des données</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="06-Anova.html"><a href="06-Anova.html#chargement-du-fichier"><i class="fa fa-check"></i><b>6.1.1</b> Chargement du fichier</a></li>
<li class="chapter" data-level="6.1.2" data-path="06-Anova.html"><a href="06-Anova.html#contenu-du-fichier"><i class="fa fa-check"></i><b>6.1.2</b> Contenu du fichier</a></li>
<li class="chapter" data-level="6.1.3" data-path="06-Anova.html"><a href="06-Anova.html#dictionaire-des-variables"><i class="fa fa-check"></i><b>6.1.3</b> Dictionaire des variables</a></li>
<li class="chapter" data-level="6.1.4" data-path="06-Anova.html"><a href="06-Anova.html#recodage-des-variables"><i class="fa fa-check"></i><b>6.1.4</b> Recodage des variables</a></li>
<li class="chapter" data-level="6.1.5" data-path="06-Anova.html"><a href="06-Anova.html#ajout-dune-nouvelle-variable"><i class="fa fa-check"></i><b>6.1.5</b> Ajout d’une nouvelle variable</a></li>
<li class="chapter" data-level="6.1.6" data-path="06-Anova.html"><a href="06-Anova.html#résumé-de-lensemble-du-tableau"><i class="fa fa-check"></i><b>6.1.6</b> Résumé de l’ensemble du tableau</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="06-Anova.html"><a href="06-Anova.html#rappels-sur-la-régression"><i class="fa fa-check"></i><b>6.2</b> Rappels sur la régression</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="06-Anova.html"><a href="06-Anova.html#la-distribution-de-pct-est-elle-normale"><i class="fa fa-check"></i><b>6.2.1</b> La distribution de PCT est-elle normale ?</a></li>
<li class="chapter" data-level="6.2.2" data-path="06-Anova.html"><a href="06-Anova.html#y-a-t-il-une-relation-entre-le-prix-du-repas-et-le-pourboire"><i class="fa fa-check"></i><b>6.2.2</b> Y-a-t-il une relation entre le prix du repas et le pourboire ?</a></li>
<li class="chapter" data-level="6.2.3" data-path="06-Anova.html"><a href="06-Anova.html#modèle-de-régression"><i class="fa fa-check"></i><b>6.2.3</b> Modèle de régression</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="06-Anova.html"><a href="06-Anova.html#test-dégalité-des-moyennes"><i class="fa fa-check"></i><b>6.3</b> Test d’égalité des moyennes</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="06-Anova.html"><a href="06-Anova.html#hypothèses"><i class="fa fa-check"></i><b>6.3.1</b> Hypothèses</a></li>
<li class="chapter" data-level="6.3.2" data-path="06-Anova.html"><a href="06-Anova.html#visualisations"><i class="fa fa-check"></i><b>6.3.2</b> Visualisations</a></li>
<li class="chapter" data-level="6.3.3" data-path="06-Anova.html"><a href="06-Anova.html#paramètres-principaux"><i class="fa fa-check"></i><b>6.3.3</b> Paramètres principaux</a></li>
<li class="chapter" data-level="6.3.4" data-path="06-Anova.html"><a href="06-Anova.html#test-dégalité-des-moyennes-1"><i class="fa fa-check"></i><b>6.3.4</b> Test d’égalité des moyennes</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="06-Anova.html"><a href="06-Anova.html#analyse-de-variance-1"><i class="fa fa-check"></i><b>6.4</b> Analyse de variance</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="06-Anova.html"><a href="06-Anova.html#hypothèses-1"><i class="fa fa-check"></i><b>6.4.1</b> Hypothèses</a></li>
<li class="chapter" data-level="6.4.2" data-path="06-Anova.html"><a href="06-Anova.html#calcul-des-paramètres-principaux"><i class="fa fa-check"></i><b>6.4.2</b> Calcul des paramètres principaux</a></li>
<li class="chapter" data-level="6.4.3" data-path="06-Anova.html"><a href="06-Anova.html#visualisation"><i class="fa fa-check"></i><b>6.4.3</b> Visualisation</a></li>
<li class="chapter" data-level="6.4.4" data-path="06-Anova.html"><a href="06-Anova.html#modélisation-simple"><i class="fa fa-check"></i><b>6.4.4</b> Modélisation simple</a></li>
<li class="chapter" data-level="6.4.5" data-path="06-Anova.html"><a href="06-Anova.html#modélisation-avancée"><i class="fa fa-check"></i><b>6.4.5</b> Modélisation avancée</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="06-Anova.html"><a href="06-Anova.html#annexe-les-variables-hybrides"><i class="fa fa-check"></i><b>6.5</b> Annexe : les variables hybrides</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="06-Anova.html"><a href="06-Anova.html#size-quantitative-discrète"><i class="fa fa-check"></i><b>6.5.1</b> SIZE = quantitative discrète</a></li>
<li class="chapter" data-level="6.5.2" data-path="06-Anova.html"><a href="06-Anova.html#size-qualitative-ordinale"><i class="fa fa-check"></i><b>6.5.2</b> SIZE = qualitative ordinale</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III VARIABLES CATEGORIELLES</b></span></li>
<li class="chapter" data-level="7" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html"><i class="fa fa-check"></i><b>7</b> Analyse d’enquêtes (new)</a>
<ul>
<li class="chapter" data-level="7.1" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#introduction"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#données"><i class="fa fa-check"></i><b>7.2</b> Données</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#chargement-du-fichier-1"><i class="fa fa-check"></i><b>7.2.1</b> Chargement du fichier</a></li>
<li class="chapter" data-level="7.2.2" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#liste-des-variables"><i class="fa fa-check"></i><b>7.2.2</b> Liste des variables</a></li>
<li class="chapter" data-level="7.2.3" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#echantillonage"><i class="fa fa-check"></i><b>7.2.3</b> Echantillonage</a></li>
<li class="chapter" data-level="7.2.4" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#résumé-rapide"><i class="fa fa-check"></i><b>7.2.4</b> Résumé rapide</a></li>
<li class="chapter" data-level="7.2.5" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#choix-des-variables-du-pays-et-de-la-date"><i class="fa fa-check"></i><b>7.2.5</b> Choix des variables, du pays et de la date</a></li>
<li class="chapter" data-level="7.2.6" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#transformation-quanti-quali"><i class="fa fa-check"></i><b>7.2.6</b> Transformation quanti-quali</a></li>
<li class="chapter" data-level="7.2.7" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#recodage-des-modalités"><i class="fa fa-check"></i><b>7.2.7</b> Recodage des modalités</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#analyse-univariée"><i class="fa fa-check"></i><b>7.3</b> Analyse univariée</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#fréquence-simple"><i class="fa fa-check"></i><b>7.3.1</b> Fréquence simple</a></li>
<li class="chapter" data-level="7.3.2" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#pourcentage-r-base"><i class="fa fa-check"></i><b>7.3.2</b> Pourcentage (R-base)</a></li>
<li class="chapter" data-level="7.3.3" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#marge-derreur-dun-pourcentage"><i class="fa fa-check"></i><b>7.3.3</b> Marge d’erreur d’un pourcentage</a></li>
<li class="chapter" data-level="7.3.4" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#diagramme-en-bâton"><i class="fa fa-check"></i><b>7.3.4</b> Diagramme en bâton</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#tableau-de-contingence"><i class="fa fa-check"></i><b>7.4</b> Tableau de contingence</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#tableau-de-contingence-1"><i class="fa fa-check"></i><b>7.4.1</b> Tableau de contingence</a></li>
<li class="chapter" data-level="7.4.2" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#pourcentage-du-total"><i class="fa fa-check"></i><b>7.4.2</b> Pourcentage du total</a></li>
<li class="chapter" data-level="7.4.3" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#pourcentage-en-ligne"><i class="fa fa-check"></i><b>7.4.3</b> Pourcentage en ligne</a></li>
<li class="chapter" data-level="7.4.4" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#pourcentage-en-colonnes"><i class="fa fa-check"></i><b>7.4.4</b> Pourcentage en colonnes</a></li>
<li class="chapter" data-level="7.4.5" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#effectif-pourcentage-gtsummary"><i class="fa fa-check"></i><b>7.4.5</b> effectif + pourcentage (gtsummary)</a></li>
<li class="chapter" data-level="7.4.6" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#diagramme-en-mosaïque"><i class="fa fa-check"></i><b>7.4.6</b> Diagramme en mosaïque</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#test-du-chi-2"><i class="fa fa-check"></i><b>7.5</b> Test du chi-2</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#hypothèse-dindépendance"><i class="fa fa-check"></i><b>7.5.1</b> Hypothèse d’indépendance</a></li>
<li class="chapter" data-level="7.5.2" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#test-du-chi-2-simple"><i class="fa fa-check"></i><b>7.5.2</b> test du chi-2 simple</a></li>
<li class="chapter" data-level="7.5.3" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#exemple-de-rejet-de-h0"><i class="fa fa-check"></i><b>7.5.3</b> Exemple de rejet de H0</a></li>
<li class="chapter" data-level="7.5.4" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#valeurs-observées-et-estimées"><i class="fa fa-check"></i><b>7.5.4</b> Valeurs observées et estimées</a></li>
<li class="chapter" data-level="7.5.5" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#résidus-bruts-et-standardisées"><i class="fa fa-check"></i><b>7.5.5</b> Résidus bruts et standardisées</a></li>
<li class="chapter" data-level="7.5.6" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#graphique-des-écarts-les-plus-significatifs"><i class="fa fa-check"></i><b>7.5.6</b> Graphique des écarts les plus significatifs</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#pondération"><i class="fa fa-check"></i><b>7.6</b> Pondération</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#tableau-pondéré"><i class="fa fa-check"></i><b>7.6.1</b> Tableau pondéré</a></li>
<li class="chapter" data-level="7.6.2" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#comparaison-des-pourcentages"><i class="fa fa-check"></i><b>7.6.2</b> Comparaison des pourcentages</a></li>
<li class="chapter" data-level="7.6.3" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#comparaison-des-tests"><i class="fa fa-check"></i><b>7.6.3</b> Comparaison des tests</a></li>
<li class="chapter" data-level="7.6.4" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#solution-exacte"><i class="fa fa-check"></i><b>7.6.4</b> Solution exacte</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#analyse-multivariée"><i class="fa fa-check"></i><b>7.7</b> Analyse multivariée</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#préparation-des-données-3"><i class="fa fa-check"></i><b>7.7.1</b> Préparation des données</a></li>
<li class="chapter" data-level="7.7.2" data-path="07-TabcontV2.html"><a href="07-TabcontV2.html#modèle-logit"><i class="fa fa-check"></i><b>7.7.2</b> Modèle logit</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="07-Tabcont.html"><a href="07-Tabcont.html"><i class="fa fa-check"></i><b>8</b> Analyse d’enquêtes (old)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="07-Tabcont.html"><a href="07-Tabcont.html#introduction-1"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="07-Tabcont.html"><a href="07-Tabcont.html#préparation-des-données-4"><i class="fa fa-check"></i><b>8.2</b> Préparation des données</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="07-Tabcont.html"><a href="07-Tabcont.html#importation-du-fichier-au-format-.rds"><i class="fa fa-check"></i><b>8.2.1</b> Importation du fichier au format .RDS</a></li>
<li class="chapter" data-level="8.2.2" data-path="07-Tabcont.html"><a href="07-Tabcont.html#simplifiée-des-variables"><i class="fa fa-check"></i><b>8.2.2</b> (simplifiée) des variables</a></li>
<li class="chapter" data-level="8.2.3" data-path="07-Tabcont.html"><a href="07-Tabcont.html#résumé-des-variables-tri-à-plat"><i class="fa fa-check"></i><b>8.2.3</b> Résumé des variables (tri à plat)</a></li>
<li class="chapter" data-level="8.2.4" data-path="07-Tabcont.html"><a href="07-Tabcont.html#tailles-des-échantillons-par-pays-et-par-date"><i class="fa fa-check"></i><b>8.2.4</b> Tailles des échantillons par pays et par date</a></li>
<li class="chapter" data-level="8.2.5" data-path="07-Tabcont.html"><a href="07-Tabcont.html#sélection-dun-échantillon"><i class="fa fa-check"></i><b>8.2.5</b> Sélection d’un échantillon</a></li>
<li class="chapter" data-level="8.2.6" data-path="07-Tabcont.html"><a href="07-Tabcont.html#recodage-des-modalités-1"><i class="fa fa-check"></i><b>8.2.6</b> Recodage des modalités</a></li>
<li class="chapter" data-level="8.2.7" data-path="07-Tabcont.html"><a href="07-Tabcont.html#découpage-de-variables-quantitatives-en-classes"><i class="fa fa-check"></i><b>8.2.7</b> Découpage de variables quantitatives en classes</a></li>
<li class="chapter" data-level="8.2.8" data-path="07-Tabcont.html"><a href="07-Tabcont.html#sélection"><i class="fa fa-check"></i><b>8.2.8</b> Sélection</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="07-Tabcont.html"><a href="07-Tabcont.html#opinion-usa"><i class="fa fa-check"></i><b>8.3</b> Opinion USA</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="07-Tabcont.html"><a href="07-Tabcont.html#la-fonction-table"><i class="fa fa-check"></i><b>8.3.1</b> la fonction table()</a></li>
<li class="chapter" data-level="8.3.2" data-path="07-Tabcont.html"><a href="07-Tabcont.html#visualisation-avec-plot-ou-barplot"><i class="fa fa-check"></i><b>8.3.2</b> Visualisation avec plot ou barplot</a></li>
<li class="chapter" data-level="8.3.3" data-path="07-Tabcont.html"><a href="07-Tabcont.html#recodage"><i class="fa fa-check"></i><b>8.3.3</b> Recodage</a></li>
<li class="chapter" data-level="8.3.4" data-path="07-Tabcont.html"><a href="07-Tabcont.html#calcul-de-lintervalle-de-confiance"><i class="fa fa-check"></i><b>8.3.4</b> Calcul de l’intervalle de confiance</a></li>
<li class="chapter" data-level="8.3.5" data-path="07-Tabcont.html"><a href="07-Tabcont.html#prise-en-compte-de-la-variable-de-redressement."><i class="fa fa-check"></i><b>8.3.5</b> Prise en compte de la variable de redressement.</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="07-Tabcont.html"><a href="07-Tabcont.html#opinion-usa-sexe"><i class="fa fa-check"></i><b>8.4</b> Opinion USA / Sexe</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="07-Tabcont.html"><a href="07-Tabcont.html#tableau-de-contingence-2"><i class="fa fa-check"></i><b>8.4.1</b> tableau de contingence</a></li>
<li class="chapter" data-level="8.4.2" data-path="07-Tabcont.html"><a href="07-Tabcont.html#pourcentages"><i class="fa fa-check"></i><b>8.4.2</b> Pourcentages</a></li>
<li class="chapter" data-level="8.4.3" data-path="07-Tabcont.html"><a href="07-Tabcont.html#première-visualisation"><i class="fa fa-check"></i><b>8.4.3</b> Première visualisation</a></li>
<li class="chapter" data-level="8.4.4" data-path="07-Tabcont.html"><a href="07-Tabcont.html#test-du-chi-2-1"><i class="fa fa-check"></i><b>8.4.4</b> test du chi-2</a></li>
<li class="chapter" data-level="8.4.5" data-path="07-Tabcont.html"><a href="07-Tabcont.html#analyse-des-résidus"><i class="fa fa-check"></i><b>8.4.5</b> Analyse des résidus</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="07-Tabcont.html"><a href="07-Tabcont.html#opinion-usa-âge"><i class="fa fa-check"></i><b>8.5</b> Opinion USA / Âge</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="07-Tabcont.html"><a href="07-Tabcont.html#effet-de-génération"><i class="fa fa-check"></i><b>8.5.1</b> Effet de génération</a></li>
<li class="chapter" data-level="8.5.2" data-path="07-Tabcont.html"><a href="07-Tabcont.html#effet-dâge"><i class="fa fa-check"></i><b>8.5.2</b> Effet d’âge</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="07-Tabcont.html"><a href="07-Tabcont.html#opinion-usa-age-sexe"><i class="fa fa-check"></i><b>8.6</b> Opinion USA / Age &amp; Sexe</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="07-Tabcont.html"><a href="07-Tabcont.html#sous-échantillon-des-hommes"><i class="fa fa-check"></i><b>8.6.1</b> Sous-échantillon des hommes</a></li>
<li class="chapter" data-level="8.6.2" data-path="07-Tabcont.html"><a href="07-Tabcont.html#sous-échantillon-des-femmes"><i class="fa fa-check"></i><b>8.6.2</b> Sous-échantillon des femmes</a></li>
<li class="chapter" data-level="8.6.3" data-path="07-Tabcont.html"><a href="07-Tabcont.html#régression-logistique"><i class="fa fa-check"></i><b>8.6.3</b> Régression logistique</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV GRAPHIQUES, CARTES &amp; TABLEAUX</b></span></li>
<li class="chapter" data-level="9" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html"><i class="fa fa-check"></i><b>9</b> Graphiques avec R-Base</a>
<ul>
<li class="chapter" data-level="9.1" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#introduction-2"><i class="fa fa-check"></i><b>9.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#pourquoi-sembêter-à-utiliser-les-fonctions-primitives-de-r-pour-faire-des-graphiques"><i class="fa fa-check"></i><b>9.1.1</b> Pourquoi s’em…bêter à utiliser les fonctions primitives de R pour faire des graphiques ?</a></li>
<li class="chapter" data-level="9.1.2" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#trois-étapes-pour-créer-un-graphique"><i class="fa fa-check"></i><b>9.1.2</b> Trois étapes pour créer un graphique</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#préparation-des-données-5"><i class="fa fa-check"></i><b>9.2</b> Préparation des données</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#chargement-du-fichier-2"><i class="fa fa-check"></i><b>9.2.1</b> Chargement du fichier</a></li>
<li class="chapter" data-level="9.2.2" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#contenu-du-fichier-1"><i class="fa fa-check"></i><b>9.2.2</b> Contenu du fichier</a></li>
<li class="chapter" data-level="9.2.3" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#dictionaire-des-variables-1"><i class="fa fa-check"></i><b>9.2.3</b> Dictionaire des variables</a></li>
<li class="chapter" data-level="9.2.4" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#recodage-des-variables-1"><i class="fa fa-check"></i><b>9.2.4</b> Recodage des variables</a></li>
<li class="chapter" data-level="9.2.5" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#ajout-dune-nouvelle-variable-1"><i class="fa fa-check"></i><b>9.2.5</b> Ajout d’une nouvelle variable</a></li>
<li class="chapter" data-level="9.2.6" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#résumé-de-lensemble-du-tableau-1"><i class="fa fa-check"></i><b>9.2.6</b> Résumé de l’ensemble du tableau</a></li>
<li class="chapter" data-level="9.2.7" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#la-fonction-par"><i class="fa fa-check"></i><b>9.2.7</b> La fonction par()</a></li>
<li class="chapter" data-level="9.2.8" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#fonction-par-mfrow"><i class="fa fa-check"></i><b>9.2.8</b> fonction par() + mfrow</a></li>
<li class="chapter" data-level="9.2.9" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#autres-paramètres-de-par"><i class="fa fa-check"></i><b>9.2.9</b> Autres paramètres de par()</a></li>
<li class="chapter" data-level="9.2.10" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#la-fonction-layout"><i class="fa fa-check"></i><b>9.2.10</b> La fonction layout()</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#la-fonction-génératrice-plot"><i class="fa fa-check"></i><b>9.3</b> La fonction génératrice plot()</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#une-super-fonction"><i class="fa fa-check"></i><b>9.3.1</b> Une super-fonction</a></li>
<li class="chapter" data-level="9.3.2" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#plotx-x-de-type-factor"><i class="fa fa-check"></i><b>9.3.2</b> plot(X) / X de type factor</a></li>
<li class="chapter" data-level="9.3.3" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#plotx-x-de-type-numeric"><i class="fa fa-check"></i><b>9.3.3</b> plot(X) / X de type numeric</a></li>
<li class="chapter" data-level="9.3.4" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#plotxy-x-et-y-de-type-factor"><i class="fa fa-check"></i><b>9.3.4</b> plot(X,Y) / X et Y de type factor</a></li>
<li class="chapter" data-level="9.3.5" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#plotxy-x-et-y-de-type-numerique"><i class="fa fa-check"></i><b>9.3.5</b> plot(X,Y) / X et Y de type numerique</a></li>
<li class="chapter" data-level="9.3.6" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#plotxy-x-de-type-factor-et-y-de-type-numerique"><i class="fa fa-check"></i><b>9.3.6</b> plot(X,Y) / X de type factor et Y de type numerique</a></li>
<li class="chapter" data-level="9.3.7" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#plotxy-x-de-type-factor-et-y-de-type-numerique-1"><i class="fa fa-check"></i><b>9.3.7</b> plot(X,Y) / X de type factor et Y de type numerique</a></li>
<li class="chapter" data-level="9.3.8" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#plotmodel-model-lmyx"><i class="fa fa-check"></i><b>9.3.8</b> plot(model) / model = lm(Y~X)</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#les-autres-fonctions-génératrice"><i class="fa fa-check"></i><b>9.4</b> Les autres fonctions génératrice</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#la-fonction-barplot"><i class="fa fa-check"></i><b>9.4.1</b> La fonction barplot()</a></li>
<li class="chapter" data-level="9.4.2" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#les-fonctions-hist-et-density"><i class="fa fa-check"></i><b>9.4.2</b> Les fonctions hist() et density()</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#les-fonctions-complémentaires"><i class="fa fa-check"></i><b>9.5</b> Les fonctions complémentaires</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#exemple-dun-nuage-de-points-xy"><i class="fa fa-check"></i><b>9.5.1</b> Exemple d’un nuage de points (X,Y)</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#conclusion"><i class="fa fa-check"></i><b>9.6</b> Conclusion</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#on-peut-faire-de-beaux-graphiques-avec-r-base"><i class="fa fa-check"></i><b>9.6.1</b> On peut faire de beaux graphiques avec R-Base …</a></li>
<li class="chapter" data-level="9.6.2" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#on-peut-utiliser-des-packages-spécialisés"><i class="fa fa-check"></i><b>9.6.2</b> On peut utiliser des packages spécialisés</a></li>
<li class="chapter" data-level="9.6.3" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#ggally-un-package-spécialisé-dans-la-statistique-bivariée"><i class="fa fa-check"></i><b>9.6.3</b> ggally : un package spécialisé dans la statistique bivariée</a></li>
<li class="chapter" data-level="9.6.4" data-path="08-Graphique-Base.html"><a href="08-Graphique-Base.html#ggplot2-un-package-graphique-universel"><i class="fa fa-check"></i><b>9.6.4</b> ggplot2 : un package graphique universel ?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html"><i class="fa fa-check"></i><b>10</b> Graphiques avec ggplot2 (2024)</a>
<ul>
<li class="chapter" data-level="10.1" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#introduction-3"><i class="fa fa-check"></i><b>10.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#ggplot2-et-tydiverse"><i class="fa fa-check"></i><b>10.1.1</b> ggplot2 et tydiverse</a></li>
<li class="chapter" data-level="10.1.2" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#ggplot2-cheatsheet"><i class="fa fa-check"></i><b>10.1.2</b> ggplot2 cheatsheet</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#préparation-des-données-6"><i class="fa fa-check"></i><b>10.2</b> préparation des données</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#chargement-du-fichier-3"><i class="fa fa-check"></i><b>10.2.1</b> Chargement du fichier</a></li>
<li class="chapter" data-level="10.2.2" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#dictionaire-des-variables-2"><i class="fa fa-check"></i><b>10.2.2</b> Dictionaire des variables</a></li>
<li class="chapter" data-level="10.2.3" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#résumé-de-lensemble-du-tableau-2"><i class="fa fa-check"></i><b>10.2.3</b> Résumé de l’ensemble du tableau</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#principes-généraux"><i class="fa fa-check"></i><b>10.3</b> Principes généraux</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#les-différentes-étapes"><i class="fa fa-check"></i><b>10.3.1</b> Les différentes étapes</a></li>
<li class="chapter" data-level="10.3.2" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#la-figure-à-réaliser"><i class="fa fa-check"></i><b>10.3.2</b> La figure à réaliser</a></li>
<li class="chapter" data-level="10.3.3" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#la-construction-pas-à-pas"><i class="fa fa-check"></i><b>10.3.3</b> La construction pas à pas</a></li>
<li class="chapter" data-level="10.3.4" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#comparaison-avec-r-base"><i class="fa fa-check"></i><b>10.3.4</b> Comparaison avec R-Base</a></li>
<li class="chapter" data-level="10.3.5" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#attention-paramètres-aes-locaux-et-globaux"><i class="fa fa-check"></i><b>10.3.5</b> Attention ! Paramètres aes() locaux et globaux</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#x-discrète"><i class="fa fa-check"></i><b>10.4</b> X discrète</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#barplot-r-base"><i class="fa fa-check"></i><b>10.4.1</b> barplot (R-base)</a></li>
<li class="chapter" data-level="10.4.2" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#geom_bar-ggplot2"><i class="fa fa-check"></i><b>10.4.2</b> geom_bar (ggplot2)</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#x-quantitative-continue"><i class="fa fa-check"></i><b>10.5</b> X quantitative continue</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#hist-r-base"><i class="fa fa-check"></i><b>10.5.1</b> hist (R-base)</a></li>
<li class="chapter" data-level="10.5.2" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#geom_histogram-ggplot2"><i class="fa fa-check"></i><b>10.5.2</b> geom_histogram (ggplot2)</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#x-et-y-quantitatives-continues"><i class="fa fa-check"></i><b>10.6</b> X et Y quantitatives continues</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#plot-r-base"><i class="fa fa-check"></i><b>10.6.1</b> plot (R-base)</a></li>
<li class="chapter" data-level="10.6.2" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#geom_point-ggplot2"><i class="fa fa-check"></i><b>10.6.2</b> geom_point (ggplot2)</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#x-quantitative-continue-et-y-discrète"><i class="fa fa-check"></i><b>10.7</b> X quantitative continue et Y discrète</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#boxplot-r-base"><i class="fa fa-check"></i><b>10.7.1</b> 6.1 boxplot (R-base)</a></li>
<li class="chapter" data-level="10.7.2" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#geom_boxplot-ggplot2"><i class="fa fa-check"></i><b>10.7.2</b> geom_boxplot (ggplot2)</a></li>
<li class="chapter" data-level="10.7.3" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#beanplot-r-base-package-beanplot"><i class="fa fa-check"></i><b>10.7.3</b> beanplot (R-base + package beanplot)</a></li>
<li class="chapter" data-level="10.7.4" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#geom_violin-ggplot2"><i class="fa fa-check"></i><b>10.7.4</b> geom_violin (ggplot2)</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#deux-variables-x-et-y-discrètes"><i class="fa fa-check"></i><b>10.8</b> Deux variables X et Y discrètes</a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#mosaicplot-r-base"><i class="fa fa-check"></i><b>10.8.1</b> mosaicplot (R-base)</a></li>
<li class="chapter" data-level="10.8.2" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#geom_bar-ggplot2-1"><i class="fa fa-check"></i><b>10.8.2</b> geom_bar (ggplot2)</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#conclusion-1"><i class="fa fa-check"></i><b>10.9</b> Conclusion</a>
<ul>
<li class="chapter" data-level="10.9.1" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#r-base-1"><i class="fa fa-check"></i><b>10.9.1</b> R-base</a></li>
<li class="chapter" data-level="10.9.2" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#ggplot2"><i class="fa fa-check"></i><b>10.9.2</b> ggplot2</a></li>
<li class="chapter" data-level="10.9.3" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#le-meilleur-des-deux-mondes"><i class="fa fa-check"></i><b>10.9.3</b> Le meilleur des deux mondes ?</a></li>
<li class="chapter" data-level="10.9.4" data-path="09bis-Graphique-ggplot.html"><a href="09bis-Graphique-ggplot.html#plotly-un-challenger-sérieux-de-ggplot-pour-le-web"><i class="fa fa-check"></i><b>10.9.4</b> plotly, un challenger sérieux de ggplot pour le web</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html"><i class="fa fa-check"></i><b>11</b> Cartographie avec tmap (2024)</a>
<ul>
<li class="chapter" data-level="11.1" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#introduction-4"><i class="fa fa-check"></i><b>11.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#cartographie-dans-r"><i class="fa fa-check"></i><b>11.1.1</b> Cartographie dans R</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#données-statistiques"><i class="fa fa-check"></i><b>11.2</b> Données statistiques</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#chargement-du-fichier-4"><i class="fa fa-check"></i><b>11.2.1</b> Chargement du fichier</a></li>
<li class="chapter" data-level="11.2.2" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#dictionaire-des-variables-3"><i class="fa fa-check"></i><b>11.2.2</b> Dictionaire des variables</a></li>
<li class="chapter" data-level="11.2.3" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#résumé-de-lensemble-du-tableau-3"><i class="fa fa-check"></i><b>11.2.3</b> Résumé de l’ensemble du tableau</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#données-cartographiques"><i class="fa fa-check"></i><b>11.3</b> Données cartographiques</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#carte-des-circonscriptions"><i class="fa fa-check"></i><b>11.3.1</b> Carte des circonscriptions</a></li>
<li class="chapter" data-level="11.3.2" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#autres-fonds-de-carte"><i class="fa fa-check"></i><b>11.3.2</b> Autres fonds de carte</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#jointure"><i class="fa fa-check"></i><b>11.4</b> Jointure</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#extraction-dune-région"><i class="fa fa-check"></i><b>11.4.1</b> Extraction d’une région</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#carte-de-repérage"><i class="fa fa-check"></i><b>11.5</b> Carte de repérage</a></li>
<li class="chapter" data-level="11.6" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#carte-dune-variable-qualitative"><i class="fa fa-check"></i><b>11.6</b> Carte d’une variable qualitative</a></li>
<li class="chapter" data-level="11.7" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#carte-dune-variable-quantitative-de-taux"><i class="fa fa-check"></i><b>11.7</b> Carte d’une variable quantitative de taux</a></li>
<li class="chapter" data-level="11.8" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#carte-dune-variable-quantitative-de-stock"><i class="fa fa-check"></i><b>11.8</b> Carte d’une variable quantitative de stock</a></li>
<li class="chapter" data-level="11.9" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#combinaison-de-cartes-quantitatives-de-stock-et-de-taux"><i class="fa fa-check"></i><b>11.9</b> Combinaison de cartes quantitatives de stock et de taux</a></li>
<li class="chapter" data-level="11.10" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#superposition-de-cartes"><i class="fa fa-check"></i><b>11.10</b> Superposition de cartes</a></li>
<li class="chapter" data-level="11.11" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#juxtaposition-de-cartes"><i class="fa fa-check"></i><b>11.11</b> Juxtaposition de cartes</a></li>
<li class="chapter" data-level="11.12" data-path="10-Cartographie-tmap.html"><a href="10-Cartographie-tmap.html#pour-en-savoir-plus"><i class="fa fa-check"></i><b>11.12</b> Pour en savoir plus</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html"><i class="fa fa-check"></i><b>12</b> Initiation à tidyverse</a>
<ul>
<li class="chapter" data-level="12.1" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#introduction-5"><i class="fa fa-check"></i><b>12.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#un-nouvel-empire"><i class="fa fa-check"></i><b>12.1.1</b> Un nouvel empire ?</a></li>
<li class="chapter" data-level="12.1.2" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#pour-une-utilisation-sélective"><i class="fa fa-check"></i><b>12.1.2</b> Pour une utilisation sélective</a></li>
<li class="chapter" data-level="12.1.3" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#jeu-de-données"><i class="fa fa-check"></i><b>12.1.3</b> Jeu de données</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#manipuler-avec-dplyr"><i class="fa fa-check"></i><b>12.2</b> Manipuler avec dplyr</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#filter"><i class="fa fa-check"></i><b>12.2.1</b> <strong>filter()</strong></a></li>
<li class="chapter" data-level="12.2.2" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#select"><i class="fa fa-check"></i><b>12.2.2</b> <strong>select()</strong></a></li>
<li class="chapter" data-level="12.2.3" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#mutate"><i class="fa fa-check"></i><b>12.2.3</b> <strong>mutate()</strong></a></li>
<li class="chapter" data-level="12.2.4" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#arrange"><i class="fa fa-check"></i><b>12.2.4</b> arrange()</a></li>
<li class="chapter" data-level="12.2.5" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#group_by-summarise"><i class="fa fa-check"></i><b>12.2.5</b> group_by() &amp; summarise()</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#visualiser-avec-ggplot2"><i class="fa fa-check"></i><b>12.3</b> Visualiser avec ggplot2</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#les-différentes-étapes-1"><i class="fa fa-check"></i><b>12.3.1</b> Les différentes étapes</a></li>
<li class="chapter" data-level="12.3.2" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#la-figure-à-réaliser-1"><i class="fa fa-check"></i><b>12.3.2</b> La figure à réaliser</a></li>
<li class="chapter" data-level="12.3.3" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#la-construction-pas-à-pas-1"><i class="fa fa-check"></i><b>12.3.3</b> La construction pas à pas</a></li>
<li class="chapter" data-level="12.3.4" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#comparaison-avec-r-base-1"><i class="fa fa-check"></i><b>12.3.4</b> Comparaison avec R-Base</a></li>
<li class="chapter" data-level="12.3.5" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#attention-paramètres-aes-locaux-et-globaux-1"><i class="fa fa-check"></i><b>12.3.5</b> Attention ! Paramètres aes() locaux et globaux</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#comparaison-r-base-ggplot2"><i class="fa fa-check"></i><b>12.4</b> Comparaison R-Base / Ggplot2</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#x-discrète-1"><i class="fa fa-check"></i><b>12.4.1</b> X discrète</a></li>
<li class="chapter" data-level="12.4.2" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#x-quantitative-continue-1"><i class="fa fa-check"></i><b>12.4.2</b> X quantitative continue</a></li>
<li class="chapter" data-level="12.4.3" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#x-et-y-quantitatives-continues-1"><i class="fa fa-check"></i><b>12.4.3</b> X et Y quantitatives continues</a></li>
<li class="chapter" data-level="12.4.4" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#x-quantitative-continue-et-y-discrète-1"><i class="fa fa-check"></i><b>12.4.4</b> X quantitative continue et Y discrète</a></li>
<li class="chapter" data-level="12.4.5" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#deux-variables-x-et-y-discrètes-1"><i class="fa fa-check"></i><b>12.4.5</b> Deux variables X et Y discrètes</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#conclusion-2"><i class="fa fa-check"></i><b>12.5</b> Conclusion</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#r-base-2"><i class="fa fa-check"></i><b>12.5.1</b> R-base</a></li>
<li class="chapter" data-level="12.5.2" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#ggplot2-1"><i class="fa fa-check"></i><b>12.5.2</b> ggplot2</a></li>
<li class="chapter" data-level="12.5.3" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#le-meilleur-des-deux-mondes-1"><i class="fa fa-check"></i><b>12.5.3</b> Le meilleur des deux mondes ?</a></li>
<li class="chapter" data-level="12.5.4" data-path="10-Tidyverse.html"><a href="10-Tidyverse.html#plotly-un-challenger-sérieux-de-ggplot-pour-le-web-1"><i class="fa fa-check"></i><b>12.5.4</b> plotly, un challenger sérieux de ggplot pour le web</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction à la statistique bivariée et aux représentations graphiques avec R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="initiation-à-tidyverse" class="section level1 hasAnchor" number="12">
<h1><span class="header-section-number">Partie 12</span> Initiation à tidyverse<a href="10-Tidyverse.html#initiation-à-tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<ul>
<li><strong>Mise en place</strong> : Télécharger le <a href="https://github.com/ClaudeGrasland/bivaR/raw/main/resources/exos/exo_dvf.zip">dossier exo_dvf</a> et décompressez le sur votre ordinateur. Puis ouvrez le projet R <code>exo.Rproj</code> dans Rstudio.</li>
</ul>
<div id="introduction-5" class="section level2 hasAnchor" number="12.1">
<h2><span class="header-section-number">12.1</span> Introduction<a href="10-Tidyverse.html#introduction-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="un-nouvel-empire" class="section level3 hasAnchor" number="12.1.1">
<h3><span class="header-section-number">12.1.1</span> Un nouvel empire ?<a href="10-Tidyverse.html#un-nouvel-empire" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Le package <strong>tidyverse</strong> mis au point par les auteurs de R Studio est une collection de packages R qui se présente comme un <strong>nouveau langage</strong> permettant le traitement intégré des données selon une chaîne qui part de l’importation (<em>readr</em>) et de la mise en forme (<em>tidyr</em>) pour passer ensuite aux transformations(<em>dplyr</em>, <em>broom</em>), à la visualisation statistique (<em>ggplot2</em>) ou cartographique (<em>ggmap</em>), à la modélisation et enfin la restitution sous forme de documents (<em>Rmarkdown</em>).</p>
<p><img src="resources/figures/tidyverse-package-workflow.png" width="387" /></p>
<p>La liste de package présentée dans la figure ci-dessus n’est d’ailleurs pas exhaustive car il existe des packages plus spécialisés dans l’analyse et le recodage des variables catégorielles (<em>forcats</em>) ou temporelles (<em>lubridate</em>), l’analyse de données textuelles (<em>stringr</em>), l’étude de données d’enquête (<em>haven</em>). En dehors de tidyverse proprement dit, les auteurs de ce package ont mis au point des outils d’analye textuelle (<em>tidytext</em>), de création de site web (<em>shiny</em>) qui s’inscrivent dans la même philosophie.</p>
<p><img src="resources/figures/tidyverse_website.png" width="362" /></p>
<p>Bref, tidyverse se présente comme un <strong>nouvel empire</strong> qui remplacerait les vieux packages R destinés à tomber dans les poubelles de l’histoire et constituerait l’<a href="https://www.tidyverse.org/">outil ultime de la science des données</a>…</p>
</div>
<div id="pour-une-utilisation-sélective" class="section level3 hasAnchor" number="12.1.2">
<h3><span class="header-section-number">12.1.2</span> Pour une utilisation sélective<a href="10-Tidyverse.html#pour-une-utilisation-sélective" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Les adhérents de la philosophie tidyverse ont donc pour pratique de charger d’emblée le superpackage <em>tidyverse</em> et d’inclure de ce fait l’ensemble de ces composantes qu’elles soient utiles ou non à l’analyse, ce qui ne manque pas de créer des conflits avec d’autres packages disponibles dans R :</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="10-Tidyverse.html#cb343-1" tabindex="-1"></a><span class="co"># Ne pas executer !</span></span>
<span id="cb343-2"><a href="10-Tidyverse.html#cb343-2" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>L’auteur de ces lignes et beaucoup de chercheurs en sciences des données ne partagent cependant pas l’enthousiasme des auteurs de tidyverse et émettent plusieurs réserves.</p>
<ul>
<li>tidyverse n’est pas un très bon logiciel de statistique comparativement à d’autres packages tels que <em>car</em> (pour la régression), <em>survey</em> ou <em>questionr</em> (pour les analyses d’enquêtes).</li>
<li>tidyverse n’est pas le meilleur package pour des représentation cartographiques et il existe d’autres packages plus effficaces tels que <em>tmap</em>, <em>leaflet</em>, <em>mapsf</em>, …</li>
<li>tidyverse charge inutilement la mémoire de l’ordinateure packages pas toujours utiles aux objectifs que l’on s’est donné.</li>
<li>tidyverse n’est pas le plus performant pour la gestion de très grandes masses de données comparativement au package <em>data.table</em></li>
<li>tidyverse ne fait souvent que dupliquer des packages existants</li>
<li>…</li>
</ul>
<p>Bref, il semble préférable d’utiliser au cas par cas les composantes de tidverse et de ne charger que celles dont on a réellement l’utilité et pour lesquelles les auteurs ont réellement apporter une innovation majeure. Deux packages relèvent clairement de cette catégorie : <em>dplyr</em> et <em>ggplot2</em>. C’est donc uniquement ces deux packages que nous allons utiliser ici en insistant sur leurs qualités et leur complémentarité.</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="10-Tidyverse.html#cb344-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb344-2"><a href="10-Tidyverse.html#cb344-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
</div>
<div id="jeu-de-données" class="section level3 hasAnchor" number="12.1.3">
<h3><span class="header-section-number">12.1.3</span> Jeu de données<a href="10-Tidyverse.html#jeu-de-données" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>On charge un fichier sauvegardé au format .RDS appelé <em>DSTM1_2023_V2.RDS</em></p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="10-Tidyverse.html#cb345-1" tabindex="-1"></a>base<span class="ot">&lt;-</span><span class="fu">readRDS</span>(<span class="st">&quot;resources/data/dvf/dm/DSTM1_2023_V2.RDS&quot;</span>)</span>
<span id="cb345-2"><a href="10-Tidyverse.html#cb345-2" tabindex="-1"></a>base<span class="ot">&lt;-</span><span class="fu">as.data.frame</span>(base)</span>
<span id="cb345-3"><a href="10-Tidyverse.html#cb345-3" tabindex="-1"></a><span class="fu">head</span>(base)</span>
<span id="cb345-4"><a href="10-Tidyverse.html#cb345-4" tabindex="-1"></a><span class="co">#&gt;   com_code          com_nom  ann        type   prix sup nbp        X       Y</span></span>
<span id="cb345-5"><a href="10-Tidyverse.html#cb345-5" tabindex="-1"></a><span class="co">#&gt; 1    93046     Livry-Gargan 2019      Maison 359980 105   5 665716.8 6868319</span></span>
<span id="cb345-6"><a href="10-Tidyverse.html#cb345-6" tabindex="-1"></a><span class="co">#&gt; 2    93046     Livry-Gargan 2019 Appartement 271000  58   3 666339.0 6869657</span></span>
<span id="cb345-7"><a href="10-Tidyverse.html#cb345-7" tabindex="-1"></a><span class="co">#&gt; 3    93005 Aulnay-sous-Bois 2019 Appartement  80000  72   4 664285.1 6872132</span></span>
<span id="cb345-8"><a href="10-Tidyverse.html#cb345-8" tabindex="-1"></a><span class="co">#&gt; 4    93046     Livry-Gargan 2019 Appartement 149000  38   2 664728.0 6867419</span></span>
<span id="cb345-9"><a href="10-Tidyverse.html#cb345-9" tabindex="-1"></a><span class="co">#&gt; 5    93005 Aulnay-sous-Bois 2019      Maison 230000  78   4 663570.8 6872907</span></span>
<span id="cb345-10"><a href="10-Tidyverse.html#cb345-10" tabindex="-1"></a><span class="co">#&gt; 6    93005 Aulnay-sous-Bois 2019      Maison 200000  94   4 662340.0 6870911</span></span>
<span id="cb345-11"><a href="10-Tidyverse.html#cb345-11" tabindex="-1"></a><span class="co">#&gt;   dist_gare</span></span>
<span id="cb345-12"><a href="10-Tidyverse.html#cb345-12" tabindex="-1"></a><span class="co">#&gt; 1 2522.1834</span></span>
<span id="cb345-13"><a href="10-Tidyverse.html#cb345-13" tabindex="-1"></a><span class="co">#&gt; 2 1222.6446</span></span>
<span id="cb345-14"><a href="10-Tidyverse.html#cb345-14" tabindex="-1"></a><span class="co">#&gt; 3  942.0401</span></span>
<span id="cb345-15"><a href="10-Tidyverse.html#cb345-15" tabindex="-1"></a><span class="co">#&gt; 4 1920.6869</span></span>
<span id="cb345-16"><a href="10-Tidyverse.html#cb345-16" tabindex="-1"></a><span class="co">#&gt; 5 1144.2156</span></span>
<span id="cb345-17"><a href="10-Tidyverse.html#cb345-17" tabindex="-1"></a><span class="co">#&gt; 6  836.4367</span></span></code></pre></div>
<div id="contenu-du-fichier-2" class="section level4 hasAnchor" number="12.1.3.1">
<h4><span class="header-section-number">12.1.3.1</span> Contenu du fichier<a href="10-Tidyverse.html#contenu-du-fichier-2" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Ce dossier est une version simplifiée des <em>Demandes de Valeurs Foncières</em> et contient un échantillon des ventes de maisons ou d’appartements effectués dans un ensemble de communes d’Ile de France caractérisées par la présence d’un volume important de maisons et d’appartement.</p>
<p><strong>Sources</strong> : Ces données sont disponibles sur le site opendatasoft sous l’appellation <a href="https://public.opendatasoft.com/explore/dataset/buildingref-france-demande-de-valeurs-foncieres-geolocalisee-millesime/information/">“Demandes de valeurs foncières géoloalisées”</a></p>
<p>La liste des variables est la suivante :</p>
<ul>
<li><strong>com_code</strong> : code INSEE de la commune où a eu lieu la transaction</li>
<li><strong>com_nom</strong> : nom de la commune où a eu lieu la transaction</li>
<li><strong>ann</strong> : année de la transcation</li>
<li><strong>type</strong> : type de bien vendu (maison ou appartement)</li>
<li><strong>prix</strong> : prix de vente du bien</li>
<li><strong>surf</strong> : surface habitable du logement</li>
<li><strong>nbp</strong> : nombre de pièces du logement</li>
<li><strong>X</strong> : cordonnées projetées de longitude</li>
<li><strong>Y</strong> : coordonnées projetées de latitude</li>
<li><strong>dist_gare</strong> : distance à la gare la plus proche en mètres</li>
</ul>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="10-Tidyverse.html#cb346-1" tabindex="-1"></a><span class="fu">summary</span>(base)</span>
<span id="cb346-2"><a href="10-Tidyverse.html#cb346-2" tabindex="-1"></a><span class="co">#&gt;     com_code       com_nom               ann                type      </span></span>
<span id="cb346-3"><a href="10-Tidyverse.html#cb346-3" tabindex="-1"></a><span class="co">#&gt;  Min.   :77373   Length:94530       Min.   :2017   Appartement:58415  </span></span>
<span id="cb346-4"><a href="10-Tidyverse.html#cb346-4" tabindex="-1"></a><span class="co">#&gt;  1st Qu.:92002   Class :character   1st Qu.:2018   Maison     :36115  </span></span>
<span id="cb346-5"><a href="10-Tidyverse.html#cb346-5" tabindex="-1"></a><span class="co">#&gt;  Median :93029   Mode  :character   Median :2019                      </span></span>
<span id="cb346-6"><a href="10-Tidyverse.html#cb346-6" tabindex="-1"></a><span class="co">#&gt;  Mean   :91281                      Mean   :2019                      </span></span>
<span id="cb346-7"><a href="10-Tidyverse.html#cb346-7" tabindex="-1"></a><span class="co">#&gt;  3rd Qu.:94068                      3rd Qu.:2020                      </span></span>
<span id="cb346-8"><a href="10-Tidyverse.html#cb346-8" tabindex="-1"></a><span class="co">#&gt;  Max.   :95607                      Max.   :2021                      </span></span>
<span id="cb346-9"><a href="10-Tidyverse.html#cb346-9" tabindex="-1"></a><span class="co">#&gt;       prix              sup              nbp               X         </span></span>
<span id="cb346-10"><a href="10-Tidyverse.html#cb346-10" tabindex="-1"></a><span class="co">#&gt;  Min.   :  13500   Min.   :  9.00   Min.   : 1.000   Min.   :627324  </span></span>
<span id="cb346-11"><a href="10-Tidyverse.html#cb346-11" tabindex="-1"></a><span class="co">#&gt;  1st Qu.: 164000   1st Qu.: 48.00   1st Qu.: 2.000   1st Qu.:643478  </span></span>
<span id="cb346-12"><a href="10-Tidyverse.html#cb346-12" tabindex="-1"></a><span class="co">#&gt;  Median : 243000   Median : 65.00   Median : 3.000   Median :658934  </span></span>
<span id="cb346-13"><a href="10-Tidyverse.html#cb346-13" tabindex="-1"></a><span class="co">#&gt;  Mean   : 296945   Mean   : 70.23   Mean   : 3.288   Mean   :653699  </span></span>
<span id="cb346-14"><a href="10-Tidyverse.html#cb346-14" tabindex="-1"></a><span class="co">#&gt;  3rd Qu.: 360000   3rd Qu.: 85.00   3rd Qu.: 4.000   3rd Qu.:663441  </span></span>
<span id="cb346-15"><a href="10-Tidyverse.html#cb346-15" tabindex="-1"></a><span class="co">#&gt;  Max.   :3131000   Max.   :299.00   Max.   :15.000   Max.   :673401  </span></span>
<span id="cb346-16"><a href="10-Tidyverse.html#cb346-16" tabindex="-1"></a><span class="co">#&gt;        Y             dist_gare      </span></span>
<span id="cb346-17"><a href="10-Tidyverse.html#cb346-17" tabindex="-1"></a><span class="co">#&gt;  Min.   :6830664   Min.   :  27.84  </span></span>
<span id="cb346-18"><a href="10-Tidyverse.html#cb346-18" tabindex="-1"></a><span class="co">#&gt;  1st Qu.:6855834   1st Qu.: 548.93  </span></span>
<span id="cb346-19"><a href="10-Tidyverse.html#cb346-19" tabindex="-1"></a><span class="co">#&gt;  Median :6864402   Median : 901.37  </span></span>
<span id="cb346-20"><a href="10-Tidyverse.html#cb346-20" tabindex="-1"></a><span class="co">#&gt;  Mean   :6862812   Mean   : 999.69  </span></span>
<span id="cb346-21"><a href="10-Tidyverse.html#cb346-21" tabindex="-1"></a><span class="co">#&gt;  3rd Qu.:6870676   3rd Qu.:1326.11  </span></span>
<span id="cb346-22"><a href="10-Tidyverse.html#cb346-22" tabindex="-1"></a><span class="co">#&gt;  Max.   :6884258   Max.   :3768.92</span></span></code></pre></div>
</div>
</div>
</div>
<div id="manipuler-avec-dplyr" class="section level2 hasAnchor" number="12.2">
<h2><span class="header-section-number">12.2</span> Manipuler avec dplyr<a href="10-Tidyverse.html#manipuler-avec-dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Nous allons passer rapidement en revue quelques commandes de base de <em>dplyr</em> à travers des exemples précis d’application.On commence par charger le package <code>dlyr</code> qui est une partie de l’univers <code>tidyverse</code> mais que l’on peut utiliser indépendamment du reste de l’empire d’Hadley Wickham…</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="10-Tidyverse.html#cb347-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb347-2"><a href="10-Tidyverse.html#cb347-2" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&quot;resources/figures/dplyr.jpg&quot;</span>)</span></code></pre></div>
<p><img src="resources/figures/dplyr.jpg" width="673" /></p>
<div id="filter" class="section level3 hasAnchor" number="12.2.1">
<h3><span class="header-section-number">12.2.1</span> <strong>filter()</strong><a href="10-Tidyverse.html#filter" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La commande <code>filter()</code> permet de sélectionner des lignes. Deux syntaxes sont possibles :</p>
<ul>
<li><code>filter(</code><em>tableau, condition1, condition2, …</em><code>)</code></li>
<li><em>tableau</em> <code>%&gt;% filter(</code>}<em>condition1, condition2, ..</em>.<code>)</code></li>
</ul>
<p>On préfrera la seconde syntaxe qui évite de mélanger dans la parenthèse le nom du tableau et les conditions de sélection. La fonction <code>%&gt;%</code> est un <em>pipeline</em> (en abrégé ‘<em>pipe</em>’) qui peut se traduire par ‘<em>et ensuite</em>’ lorsque l’on enchaîne une série d’instruction.</p>
<p>Par exemple, si on veut sélectionner la commune de St-Maur-des-Fossés dont le code est 94068 on pourra écrire le programme suivant</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="10-Tidyverse.html#cb348-1" tabindex="-1"></a><span class="co"># Solution R-Base</span></span>
<span id="cb348-2"><a href="10-Tidyverse.html#cb348-2" tabindex="-1"></a>don<span class="ot">&lt;-</span>base[base<span class="sc">$</span>com_code<span class="sc">==</span><span class="st">&quot;94068&quot;</span>,]</span>
<span id="cb348-3"><a href="10-Tidyverse.html#cb348-3" tabindex="-1"></a><span class="fu">head</span>(don,<span class="dv">3</span>)</span>
<span id="cb348-4"><a href="10-Tidyverse.html#cb348-4" tabindex="-1"></a><span class="co">#&gt;    com_code               com_nom  ann        type   prix sup nbp        X</span></span>
<span id="cb348-5"><a href="10-Tidyverse.html#cb348-5" tabindex="-1"></a><span class="co">#&gt; 60    94068 Saint-Maur-des-Fossés 2019 Appartement 170000  35   3 661127.9</span></span>
<span id="cb348-6"><a href="10-Tidyverse.html#cb348-6" tabindex="-1"></a><span class="co">#&gt; 61    94068 Saint-Maur-des-Fossés 2019 Appartement 362000  59   3 663139.1</span></span>
<span id="cb348-7"><a href="10-Tidyverse.html#cb348-7" tabindex="-1"></a><span class="co">#&gt; 62    94068 Saint-Maur-des-Fossés 2019 Appartement 315000  52   3 661660.3</span></span>
<span id="cb348-8"><a href="10-Tidyverse.html#cb348-8" tabindex="-1"></a><span class="co">#&gt;          Y dist_gare</span></span>
<span id="cb348-9"><a href="10-Tidyverse.html#cb348-9" tabindex="-1"></a><span class="co">#&gt; 60 6856876  522.3698</span></span>
<span id="cb348-10"><a href="10-Tidyverse.html#cb348-10" tabindex="-1"></a><span class="co">#&gt; 61 6856243  868.9349</span></span>
<span id="cb348-11"><a href="10-Tidyverse.html#cb348-11" tabindex="-1"></a><span class="co">#&gt; 62 6855562  896.2634</span></span>
<span id="cb348-12"><a href="10-Tidyverse.html#cb348-12" tabindex="-1"></a></span>
<span id="cb348-13"><a href="10-Tidyverse.html#cb348-13" tabindex="-1"></a><span class="co">#Solution dplyr </span></span>
<span id="cb348-14"><a href="10-Tidyverse.html#cb348-14" tabindex="-1"></a>don<span class="ot">&lt;-</span>base <span class="sc">%&gt;%</span> <span class="fu">filter</span>(com_code<span class="sc">==</span><span class="st">&quot;94068&quot;</span>)</span>
<span id="cb348-15"><a href="10-Tidyverse.html#cb348-15" tabindex="-1"></a><span class="fu">head</span>(don,<span class="dv">3</span>)</span>
<span id="cb348-16"><a href="10-Tidyverse.html#cb348-16" tabindex="-1"></a><span class="co">#&gt;   com_code               com_nom  ann        type   prix sup nbp        X</span></span>
<span id="cb348-17"><a href="10-Tidyverse.html#cb348-17" tabindex="-1"></a><span class="co">#&gt; 1    94068 Saint-Maur-des-Fossés 2019 Appartement 170000  35   3 661127.9</span></span>
<span id="cb348-18"><a href="10-Tidyverse.html#cb348-18" tabindex="-1"></a><span class="co">#&gt; 2    94068 Saint-Maur-des-Fossés 2019 Appartement 362000  59   3 663139.1</span></span>
<span id="cb348-19"><a href="10-Tidyverse.html#cb348-19" tabindex="-1"></a><span class="co">#&gt; 3    94068 Saint-Maur-des-Fossés 2019 Appartement 315000  52   3 661660.3</span></span>
<span id="cb348-20"><a href="10-Tidyverse.html#cb348-20" tabindex="-1"></a><span class="co">#&gt;         Y dist_gare</span></span>
<span id="cb348-21"><a href="10-Tidyverse.html#cb348-21" tabindex="-1"></a><span class="co">#&gt; 1 6856876  522.3698</span></span>
<span id="cb348-22"><a href="10-Tidyverse.html#cb348-22" tabindex="-1"></a><span class="co">#&gt; 2 6856243  868.9349</span></span>
<span id="cb348-23"><a href="10-Tidyverse.html#cb348-23" tabindex="-1"></a><span class="co">#&gt; 3 6855562  896.2634</span></span></code></pre></div>
<p>A première vue il n’y a pas beaucoup de différence entre R-Base et dplyr. Mais l’avantage de ce dernier apparaît mieux lorsque l’on veut effectuer une solution selon plusieurs critères. Par exemple, supposons qu’on veuille sélectionner les ventes de maison de 80 à 120 m2 à Saint-Maur des fossés en 2020 :</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="10-Tidyverse.html#cb349-1" tabindex="-1"></a><span class="co"># Solution R-Base</span></span>
<span id="cb349-2"><a href="10-Tidyverse.html#cb349-2" tabindex="-1"></a>don<span class="ot">&lt;-</span>base[base<span class="sc">$</span>com_code<span class="sc">==</span><span class="st">&quot;94068&quot;</span> <span class="sc">&amp;</span> </span>
<span id="cb349-3"><a href="10-Tidyverse.html#cb349-3" tabindex="-1"></a>            base<span class="sc">$</span>type<span class="sc">==</span><span class="st">&quot;Maison&quot;</span> <span class="sc">&amp;</span> </span>
<span id="cb349-4"><a href="10-Tidyverse.html#cb349-4" tabindex="-1"></a>            base<span class="sc">$</span>ann <span class="sc">==</span> <span class="dv">2020</span> <span class="sc">&amp;</span> </span>
<span id="cb349-5"><a href="10-Tidyverse.html#cb349-5" tabindex="-1"></a>            base<span class="sc">$</span>sup <span class="sc">&gt;=</span> <span class="dv">80</span> <span class="sc">&amp;</span></span>
<span id="cb349-6"><a href="10-Tidyverse.html#cb349-6" tabindex="-1"></a>            base<span class="sc">$</span>sup <span class="sc">&lt;=</span> <span class="dv">120</span>,]</span>
<span id="cb349-7"><a href="10-Tidyverse.html#cb349-7" tabindex="-1"></a><span class="fu">head</span>(don,<span class="dv">3</span>)</span>
<span id="cb349-8"><a href="10-Tidyverse.html#cb349-8" tabindex="-1"></a><span class="co">#&gt;      com_code               com_nom  ann   type    prix sup nbp        X</span></span>
<span id="cb349-9"><a href="10-Tidyverse.html#cb349-9" tabindex="-1"></a><span class="co">#&gt; 2817    94068 Saint-Maur-des-Fossés 2020 Maison 1500000 120   5 663646.8</span></span>
<span id="cb349-10"><a href="10-Tidyverse.html#cb349-10" tabindex="-1"></a><span class="co">#&gt; 3340    94068 Saint-Maur-des-Fossés 2020 Maison  773313  80   4 661871.6</span></span>
<span id="cb349-11"><a href="10-Tidyverse.html#cb349-11" tabindex="-1"></a><span class="co">#&gt; 3342    94068 Saint-Maur-des-Fossés 2020 Maison  610000  93   4 661389.3</span></span>
<span id="cb349-12"><a href="10-Tidyverse.html#cb349-12" tabindex="-1"></a><span class="co">#&gt;            Y dist_gare</span></span>
<span id="cb349-13"><a href="10-Tidyverse.html#cb349-13" tabindex="-1"></a><span class="co">#&gt; 2817 6855738  778.2111</span></span>
<span id="cb349-14"><a href="10-Tidyverse.html#cb349-14" tabindex="-1"></a><span class="co">#&gt; 3340 6855967  457.8792</span></span>
<span id="cb349-15"><a href="10-Tidyverse.html#cb349-15" tabindex="-1"></a><span class="co">#&gt; 3342 6854505 1867.5387</span></span>
<span id="cb349-16"><a href="10-Tidyverse.html#cb349-16" tabindex="-1"></a></span>
<span id="cb349-17"><a href="10-Tidyverse.html#cb349-17" tabindex="-1"></a><span class="co">#Solution dplyr </span></span>
<span id="cb349-18"><a href="10-Tidyverse.html#cb349-18" tabindex="-1"></a>don<span class="ot">&lt;-</span>base <span class="sc">%&gt;%</span> <span class="fu">filter</span>(com_code<span class="sc">==</span><span class="st">&quot;94068&quot;</span>,</span>
<span id="cb349-19"><a href="10-Tidyverse.html#cb349-19" tabindex="-1"></a>                      type<span class="sc">==</span><span class="st">&quot;Maison&quot;</span>,</span>
<span id="cb349-20"><a href="10-Tidyverse.html#cb349-20" tabindex="-1"></a>                      ann <span class="sc">==</span> <span class="dv">2020</span>, </span>
<span id="cb349-21"><a href="10-Tidyverse.html#cb349-21" tabindex="-1"></a>                      sup <span class="sc">&gt;=</span> <span class="dv">80</span>,</span>
<span id="cb349-22"><a href="10-Tidyverse.html#cb349-22" tabindex="-1"></a>                      sup <span class="sc">&lt;=</span> <span class="dv">120</span>)</span>
<span id="cb349-23"><a href="10-Tidyverse.html#cb349-23" tabindex="-1"></a><span class="fu">head</span>(don,<span class="dv">3</span>)</span>
<span id="cb349-24"><a href="10-Tidyverse.html#cb349-24" tabindex="-1"></a><span class="co">#&gt;   com_code               com_nom  ann   type    prix sup nbp        X       Y</span></span>
<span id="cb349-25"><a href="10-Tidyverse.html#cb349-25" tabindex="-1"></a><span class="co">#&gt; 1    94068 Saint-Maur-des-Fossés 2020 Maison 1500000 120   5 663646.8 6855738</span></span>
<span id="cb349-26"><a href="10-Tidyverse.html#cb349-26" tabindex="-1"></a><span class="co">#&gt; 2    94068 Saint-Maur-des-Fossés 2020 Maison  773313  80   4 661871.6 6855967</span></span>
<span id="cb349-27"><a href="10-Tidyverse.html#cb349-27" tabindex="-1"></a><span class="co">#&gt; 3    94068 Saint-Maur-des-Fossés 2020 Maison  610000  93   4 661389.3 6854505</span></span>
<span id="cb349-28"><a href="10-Tidyverse.html#cb349-28" tabindex="-1"></a><span class="co">#&gt;   dist_gare</span></span>
<span id="cb349-29"><a href="10-Tidyverse.html#cb349-29" tabindex="-1"></a><span class="co">#&gt; 1  778.2111</span></span>
<span id="cb349-30"><a href="10-Tidyverse.html#cb349-30" tabindex="-1"></a><span class="co">#&gt; 2  457.8792</span></span>
<span id="cb349-31"><a href="10-Tidyverse.html#cb349-31" tabindex="-1"></a><span class="co">#&gt; 3 1867.5387</span></span></code></pre></div>
<p>Le code est désormais beaucoup plus léger et beaucoup plus clair dans le cas de dplyr, surtout si l’on procède à une indentation des conditions.</p>
</div>
<div id="select" class="section level3 hasAnchor" number="12.2.2">
<h3><span class="header-section-number">12.2.2</span> <strong>select()</strong><a href="10-Tidyverse.html#select" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La commande <code>select()</code> permet de choisir des variables c’est-à-dire des colonnes dans un tableau. Supposons à titre d’exemple que l’on veuille créer un tableau ne contenant que les variables com_nom, type, prix et surface.</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="10-Tidyverse.html#cb350-1" tabindex="-1"></a><span class="co"># Solution R-Base</span></span>
<span id="cb350-2"><a href="10-Tidyverse.html#cb350-2" tabindex="-1"></a>don<span class="ot">&lt;-</span>base[,<span class="fu">c</span>(<span class="st">&quot;com_nom&quot;</span>, <span class="st">&quot;type&quot;</span>,<span class="st">&quot;prix&quot;</span>,<span class="st">&quot;sup&quot;</span>)]</span>
<span id="cb350-3"><a href="10-Tidyverse.html#cb350-3" tabindex="-1"></a><span class="fu">head</span>(don,<span class="dv">3</span>)</span>
<span id="cb350-4"><a href="10-Tidyverse.html#cb350-4" tabindex="-1"></a><span class="co">#&gt;            com_nom        type   prix sup</span></span>
<span id="cb350-5"><a href="10-Tidyverse.html#cb350-5" tabindex="-1"></a><span class="co">#&gt; 1     Livry-Gargan      Maison 359980 105</span></span>
<span id="cb350-6"><a href="10-Tidyverse.html#cb350-6" tabindex="-1"></a><span class="co">#&gt; 2     Livry-Gargan Appartement 271000  58</span></span>
<span id="cb350-7"><a href="10-Tidyverse.html#cb350-7" tabindex="-1"></a><span class="co">#&gt; 3 Aulnay-sous-Bois Appartement  80000  72</span></span>
<span id="cb350-8"><a href="10-Tidyverse.html#cb350-8" tabindex="-1"></a></span>
<span id="cb350-9"><a href="10-Tidyverse.html#cb350-9" tabindex="-1"></a><span class="co">#Solution dplyr </span></span>
<span id="cb350-10"><a href="10-Tidyverse.html#cb350-10" tabindex="-1"></a>don<span class="ot">&lt;-</span>base <span class="sc">%&gt;%</span> <span class="fu">select</span>(com_nom, type, prix, sup)</span>
<span id="cb350-11"><a href="10-Tidyverse.html#cb350-11" tabindex="-1"></a><span class="fu">head</span>(don,<span class="dv">3</span>)</span>
<span id="cb350-12"><a href="10-Tidyverse.html#cb350-12" tabindex="-1"></a><span class="co">#&gt;            com_nom        type   prix sup</span></span>
<span id="cb350-13"><a href="10-Tidyverse.html#cb350-13" tabindex="-1"></a><span class="co">#&gt; 1     Livry-Gargan      Maison 359980 105</span></span>
<span id="cb350-14"><a href="10-Tidyverse.html#cb350-14" tabindex="-1"></a><span class="co">#&gt; 2     Livry-Gargan Appartement 271000  58</span></span>
<span id="cb350-15"><a href="10-Tidyverse.html#cb350-15" tabindex="-1"></a><span class="co">#&gt; 3 Aulnay-sous-Bois Appartement  80000  72</span></span></code></pre></div>
<p>La principale différence entre les deux écritures est l’absence d’apostrophe “” dans la liste du nom des variables utilisées par select() ce qui est tout de même un gain de temps précieux.</p>
<p>On peut procéder à des sélections par numéro de colonnes et on peut supprimer des variables avec l’opérateur “-”. Par exemple, pour retirer les variables X et Y on a deux écritures possibles en dplyr</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="10-Tidyverse.html#cb351-1" tabindex="-1"></a><span class="co"># Solution R-Base</span></span>
<span id="cb351-2"><a href="10-Tidyverse.html#cb351-2" tabindex="-1"></a>don<span class="ot">&lt;-</span>base[,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>,<span class="dv">10</span>)]</span>
<span id="cb351-3"><a href="10-Tidyverse.html#cb351-3" tabindex="-1"></a><span class="fu">head</span>(don,<span class="dv">3</span>)</span>
<span id="cb351-4"><a href="10-Tidyverse.html#cb351-4" tabindex="-1"></a><span class="co">#&gt;   com_code          com_nom  ann        type   prix sup nbp dist_gare</span></span>
<span id="cb351-5"><a href="10-Tidyverse.html#cb351-5" tabindex="-1"></a><span class="co">#&gt; 1    93046     Livry-Gargan 2019      Maison 359980 105   5 2522.1834</span></span>
<span id="cb351-6"><a href="10-Tidyverse.html#cb351-6" tabindex="-1"></a><span class="co">#&gt; 2    93046     Livry-Gargan 2019 Appartement 271000  58   3 1222.6446</span></span>
<span id="cb351-7"><a href="10-Tidyverse.html#cb351-7" tabindex="-1"></a><span class="co">#&gt; 3    93005 Aulnay-sous-Bois 2019 Appartement  80000  72   4  942.0401</span></span>
<span id="cb351-8"><a href="10-Tidyverse.html#cb351-8" tabindex="-1"></a></span>
<span id="cb351-9"><a href="10-Tidyverse.html#cb351-9" tabindex="-1"></a><span class="co">#Solution dplyr n°1</span></span>
<span id="cb351-10"><a href="10-Tidyverse.html#cb351-10" tabindex="-1"></a>don<span class="ot">&lt;-</span>base <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>,<span class="dv">10</span>)</span>
<span id="cb351-11"><a href="10-Tidyverse.html#cb351-11" tabindex="-1"></a><span class="fu">head</span>(don,<span class="dv">3</span>)</span>
<span id="cb351-12"><a href="10-Tidyverse.html#cb351-12" tabindex="-1"></a><span class="co">#&gt;   com_code          com_nom  ann        type   prix sup nbp dist_gare</span></span>
<span id="cb351-13"><a href="10-Tidyverse.html#cb351-13" tabindex="-1"></a><span class="co">#&gt; 1    93046     Livry-Gargan 2019      Maison 359980 105   5 2522.1834</span></span>
<span id="cb351-14"><a href="10-Tidyverse.html#cb351-14" tabindex="-1"></a><span class="co">#&gt; 2    93046     Livry-Gargan 2019 Appartement 271000  58   3 1222.6446</span></span>
<span id="cb351-15"><a href="10-Tidyverse.html#cb351-15" tabindex="-1"></a><span class="co">#&gt; 3    93005 Aulnay-sous-Bois 2019 Appartement  80000  72   4  942.0401</span></span>
<span id="cb351-16"><a href="10-Tidyverse.html#cb351-16" tabindex="-1"></a></span>
<span id="cb351-17"><a href="10-Tidyverse.html#cb351-17" tabindex="-1"></a><span class="co">#Solution dplyr n°2</span></span>
<span id="cb351-18"><a href="10-Tidyverse.html#cb351-18" tabindex="-1"></a>don<span class="ot">&lt;-</span>base <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>X,<span class="sc">-</span>Y)</span>
<span id="cb351-19"><a href="10-Tidyverse.html#cb351-19" tabindex="-1"></a><span class="fu">head</span>(don,<span class="dv">3</span>)</span>
<span id="cb351-20"><a href="10-Tidyverse.html#cb351-20" tabindex="-1"></a><span class="co">#&gt;   com_code          com_nom  ann        type   prix sup nbp dist_gare</span></span>
<span id="cb351-21"><a href="10-Tidyverse.html#cb351-21" tabindex="-1"></a><span class="co">#&gt; 1    93046     Livry-Gargan 2019      Maison 359980 105   5 2522.1834</span></span>
<span id="cb351-22"><a href="10-Tidyverse.html#cb351-22" tabindex="-1"></a><span class="co">#&gt; 2    93046     Livry-Gargan 2019 Appartement 271000  58   3 1222.6446</span></span>
<span id="cb351-23"><a href="10-Tidyverse.html#cb351-23" tabindex="-1"></a><span class="co">#&gt; 3    93005 Aulnay-sous-Bois 2019 Appartement  80000  72   4  942.0401</span></span></code></pre></div>
</div>
<div id="mutate" class="section level3 hasAnchor" number="12.2.3">
<h3><span class="header-section-number">12.2.3</span> <strong>mutate()</strong><a href="10-Tidyverse.html#mutate" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La commande <code>mutate()</code> permet de créer de nouvelles variables ou de modifier des variables existantes. Supposons par exemple qu’on veuille créer un tableau contenant pour la commune de Saint-Maur une variable prix au m2 et une variable distance à la gare en km.</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="10-Tidyverse.html#cb352-1" tabindex="-1"></a><span class="co"># Solution R-Base</span></span>
<span id="cb352-2"><a href="10-Tidyverse.html#cb352-2" tabindex="-1"></a>don<span class="ot">&lt;-</span>base[base<span class="sc">$</span>com_code<span class="sc">==</span><span class="dv">94068</span>,]</span>
<span id="cb352-3"><a href="10-Tidyverse.html#cb352-3" tabindex="-1"></a>don<span class="sc">$</span>prixm2<span class="ot">&lt;-</span>don<span class="sc">$</span>prix<span class="sc">/</span>don<span class="sc">$</span>sup</span>
<span id="cb352-4"><a href="10-Tidyverse.html#cb352-4" tabindex="-1"></a>don<span class="sc">$</span>dist_gare<span class="ot">&lt;-</span>don<span class="sc">$</span>dist_gare<span class="sc">/</span><span class="dv">1000</span></span>
<span id="cb352-5"><a href="10-Tidyverse.html#cb352-5" tabindex="-1"></a>don<span class="ot">&lt;-</span>don[,<span class="fu">c</span>(<span class="st">&quot;prixm2&quot;</span>, <span class="st">&quot;dist_gare&quot;</span>)]</span>
<span id="cb352-6"><a href="10-Tidyverse.html#cb352-6" tabindex="-1"></a><span class="fu">head</span>(don,<span class="dv">3</span>)</span>
<span id="cb352-7"><a href="10-Tidyverse.html#cb352-7" tabindex="-1"></a><span class="co">#&gt;      prixm2 dist_gare</span></span>
<span id="cb352-8"><a href="10-Tidyverse.html#cb352-8" tabindex="-1"></a><span class="co">#&gt; 60 4857.143 0.5223698</span></span>
<span id="cb352-9"><a href="10-Tidyverse.html#cb352-9" tabindex="-1"></a><span class="co">#&gt; 61 6135.593 0.8689349</span></span>
<span id="cb352-10"><a href="10-Tidyverse.html#cb352-10" tabindex="-1"></a><span class="co">#&gt; 62 6057.692 0.8962634</span></span>
<span id="cb352-11"><a href="10-Tidyverse.html#cb352-11" tabindex="-1"></a></span>
<span id="cb352-12"><a href="10-Tidyverse.html#cb352-12" tabindex="-1"></a><span class="co">#Solution dplyr </span></span>
<span id="cb352-13"><a href="10-Tidyverse.html#cb352-13" tabindex="-1"></a>don<span class="ot">&lt;-</span>base <span class="sc">%&gt;%</span> <span class="fu">filter</span>(com_code<span class="sc">==</span><span class="dv">94068</span>) <span class="sc">%&gt;%</span>              <span class="co"># sélection de Saint-Maur</span></span>
<span id="cb352-14"><a href="10-Tidyverse.html#cb352-14" tabindex="-1"></a>              <span class="fu">mutate</span>(<span class="at">prixm2 =</span> prix<span class="sc">/</span>sup,                <span class="co"># création du prix au m2</span></span>
<span id="cb352-15"><a href="10-Tidyverse.html#cb352-15" tabindex="-1"></a>                     <span class="at">dist_gare =</span> dist_gare<span class="sc">/</span><span class="dv">1000</span>)<span class="sc">%&gt;%</span>    <span class="co"># conversion de la distance en km</span></span>
<span id="cb352-16"><a href="10-Tidyverse.html#cb352-16" tabindex="-1"></a>              <span class="fu">select</span>(prixm2,dist_gare)                 <span class="co"># sélection des variables utiles</span></span>
<span id="cb352-17"><a href="10-Tidyverse.html#cb352-17" tabindex="-1"></a><span class="fu">head</span>(don,<span class="dv">3</span>)</span>
<span id="cb352-18"><a href="10-Tidyverse.html#cb352-18" tabindex="-1"></a><span class="co">#&gt;     prixm2 dist_gare</span></span>
<span id="cb352-19"><a href="10-Tidyverse.html#cb352-19" tabindex="-1"></a><span class="co">#&gt; 1 4857.143 0.5223698</span></span>
<span id="cb352-20"><a href="10-Tidyverse.html#cb352-20" tabindex="-1"></a><span class="co">#&gt; 2 6135.593 0.8689349</span></span>
<span id="cb352-21"><a href="10-Tidyverse.html#cb352-21" tabindex="-1"></a><span class="co">#&gt; 3 6057.692 0.8962634</span></span></code></pre></div>
<p>Nous voyons ici l’intérêt du pipeline <code>%&gt;%</code> qui permet d’enchaîner de façon simple les différentes opérations effectuées respectivement par chacune des fonctions. La lecture du programme est beaucoup plus naturelle que dans le cas de R-Base</p>
</div>
<div id="arrange" class="section level3 hasAnchor" number="12.2.4">
<h3><span class="header-section-number">12.2.4</span> arrange()<a href="10-Tidyverse.html#arrange" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La commande <code>mutate()</code> permet enfin de trier le tableau selon une ou plusieurs clés de tri. Reprenons par exemple le programme précédent et essayons de trier les résultats en fonction de la distance à la gare.</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="10-Tidyverse.html#cb353-1" tabindex="-1"></a><span class="co"># Solution R-Base</span></span>
<span id="cb353-2"><a href="10-Tidyverse.html#cb353-2" tabindex="-1"></a>don <span class="ot">&lt;-</span> base[base<span class="sc">$</span>com_code<span class="sc">==</span><span class="dv">94068</span>,]</span>
<span id="cb353-3"><a href="10-Tidyverse.html#cb353-3" tabindex="-1"></a>don<span class="sc">$</span>prixm2 <span class="ot">&lt;-</span> don<span class="sc">$</span>prix<span class="sc">/</span>don<span class="sc">$</span>sup</span>
<span id="cb353-4"><a href="10-Tidyverse.html#cb353-4" tabindex="-1"></a>don<span class="sc">$</span>dist_gare <span class="ot">&lt;-</span> don<span class="sc">$</span>dist_gare<span class="sc">/</span><span class="dv">1000</span></span>
<span id="cb353-5"><a href="10-Tidyverse.html#cb353-5" tabindex="-1"></a>don <span class="ot">&lt;-</span> don[,<span class="fu">c</span>(<span class="st">&quot;prixm2&quot;</span>, <span class="st">&quot;dist_gare&quot;</span>)]</span>
<span id="cb353-6"><a href="10-Tidyverse.html#cb353-6" tabindex="-1"></a>don <span class="ot">&lt;-</span> don[<span class="fu">order</span>(don<span class="sc">$</span>dist_gare),]</span>
<span id="cb353-7"><a href="10-Tidyverse.html#cb353-7" tabindex="-1"></a><span class="fu">head</span>(don,<span class="dv">3</span>)</span>
<span id="cb353-8"><a href="10-Tidyverse.html#cb353-8" tabindex="-1"></a><span class="co">#&gt;         prixm2  dist_gare</span></span>
<span id="cb353-9"><a href="10-Tidyverse.html#cb353-9" tabindex="-1"></a><span class="co">#&gt; 9335  4642.000 0.03447172</span></span>
<span id="cb353-10"><a href="10-Tidyverse.html#cb353-10" tabindex="-1"></a><span class="co">#&gt; 82459 5053.571 0.03447172</span></span>
<span id="cb353-11"><a href="10-Tidyverse.html#cb353-11" tabindex="-1"></a><span class="co">#&gt; 6124  8295.455 0.03622251</span></span>
<span id="cb353-12"><a href="10-Tidyverse.html#cb353-12" tabindex="-1"></a><span class="fu">tail</span>(don,<span class="dv">3</span>)</span>
<span id="cb353-13"><a href="10-Tidyverse.html#cb353-13" tabindex="-1"></a><span class="co">#&gt;         prixm2 dist_gare</span></span>
<span id="cb353-14"><a href="10-Tidyverse.html#cb353-14" tabindex="-1"></a><span class="co">#&gt; 5987  5343.750  2.164269</span></span>
<span id="cb353-15"><a href="10-Tidyverse.html#cb353-15" tabindex="-1"></a><span class="co">#&gt; 56051 3437.466  2.170164</span></span>
<span id="cb353-16"><a href="10-Tidyverse.html#cb353-16" tabindex="-1"></a><span class="co">#&gt; 83391 3750.000  2.170164</span></span>
<span id="cb353-17"><a href="10-Tidyverse.html#cb353-17" tabindex="-1"></a></span>
<span id="cb353-18"><a href="10-Tidyverse.html#cb353-18" tabindex="-1"></a><span class="co">#Solution dplyr </span></span>
<span id="cb353-19"><a href="10-Tidyverse.html#cb353-19" tabindex="-1"></a>don<span class="ot">&lt;-</span>base <span class="sc">%&gt;%</span> <span class="fu">filter</span>(com_code<span class="sc">==</span><span class="dv">94068</span>) <span class="sc">%&gt;%</span>              <span class="co"># sélection de Saint-Maur</span></span>
<span id="cb353-20"><a href="10-Tidyverse.html#cb353-20" tabindex="-1"></a>              <span class="fu">mutate</span>(<span class="at">prixm2 =</span> prix<span class="sc">/</span>sup,                <span class="co"># création du prix au m2</span></span>
<span id="cb353-21"><a href="10-Tidyverse.html#cb353-21" tabindex="-1"></a>                     <span class="at">dist_gare =</span> dist_gare<span class="sc">/</span><span class="dv">1000</span>)<span class="sc">%&gt;%</span>    <span class="co"># conversion de la distance en km</span></span>
<span id="cb353-22"><a href="10-Tidyverse.html#cb353-22" tabindex="-1"></a>              <span class="fu">select</span>(prixm2,dist_gare) <span class="sc">%&gt;%</span>             <span class="co"># sélection des variables utiles</span></span>
<span id="cb353-23"><a href="10-Tidyverse.html#cb353-23" tabindex="-1"></a>              <span class="fu">arrange</span>(dist_gare)</span>
<span id="cb353-24"><a href="10-Tidyverse.html#cb353-24" tabindex="-1"></a><span class="fu">head</span>(don,<span class="dv">3</span>)</span>
<span id="cb353-25"><a href="10-Tidyverse.html#cb353-25" tabindex="-1"></a><span class="co">#&gt;     prixm2  dist_gare</span></span>
<span id="cb353-26"><a href="10-Tidyverse.html#cb353-26" tabindex="-1"></a><span class="co">#&gt; 1 4642.000 0.03447172</span></span>
<span id="cb353-27"><a href="10-Tidyverse.html#cb353-27" tabindex="-1"></a><span class="co">#&gt; 2 5053.571 0.03447172</span></span>
<span id="cb353-28"><a href="10-Tidyverse.html#cb353-28" tabindex="-1"></a><span class="co">#&gt; 3 8295.455 0.03622251</span></span>
<span id="cb353-29"><a href="10-Tidyverse.html#cb353-29" tabindex="-1"></a><span class="fu">tail</span>(don,<span class="dv">3</span>)</span>
<span id="cb353-30"><a href="10-Tidyverse.html#cb353-30" tabindex="-1"></a><span class="co">#&gt;        prixm2 dist_gare</span></span>
<span id="cb353-31"><a href="10-Tidyverse.html#cb353-31" tabindex="-1"></a><span class="co">#&gt; 6628 5343.750  2.164269</span></span>
<span id="cb353-32"><a href="10-Tidyverse.html#cb353-32" tabindex="-1"></a><span class="co">#&gt; 6629 3437.466  2.170164</span></span>
<span id="cb353-33"><a href="10-Tidyverse.html#cb353-33" tabindex="-1"></a><span class="co">#&gt; 6630 3750.000  2.170164</span></span></code></pre></div>
</div>
<div id="group_by-summarise" class="section level3 hasAnchor" number="12.2.5">
<h3><span class="header-section-number">12.2.5</span> group_by() &amp; summarise()<a href="10-Tidyverse.html#group_by-summarise" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En dehors des fonctions élémentaires précédentes, <strong>dplyr</strong> permet des manipulations beaucoup plus avancées avec des fonctions telles que <em>group_by()</em> et <em>summarise()</em> qui remplacent les fonctions de type <em>tapply()</em> ou <em>aggregate()</em> utilisées dans R-base. On se limitera ici à quelques cas très simple d’utilisation de ces deux fonctions</p>
<ul>
<li><strong>Exemple 1 : Dénombrement</strong></li>
</ul>
<p>Supposons qu’on veuille connaître le type de logement vendu chaque année pour la commune de St-Maur</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="10-Tidyverse.html#cb354-1" tabindex="-1"></a><span class="do">## Solution R-base</span></span>
<span id="cb354-2"><a href="10-Tidyverse.html#cb354-2" tabindex="-1"></a>don <span class="ot">&lt;-</span> base[base<span class="sc">$</span>com_code<span class="sc">==</span><span class="dv">94068</span>,]</span>
<span id="cb354-3"><a href="10-Tidyverse.html#cb354-3" tabindex="-1"></a><span class="fu">table</span>(don<span class="sc">$</span>type, don<span class="sc">$</span>ann)</span>
<span id="cb354-4"><a href="10-Tidyverse.html#cb354-4" tabindex="-1"></a><span class="co">#&gt;              </span></span>
<span id="cb354-5"><a href="10-Tidyverse.html#cb354-5" tabindex="-1"></a><span class="co">#&gt;               2017 2018 2019 2020 2021</span></span>
<span id="cb354-6"><a href="10-Tidyverse.html#cb354-6" tabindex="-1"></a><span class="co">#&gt;   Appartement  931  906  986  837  935</span></span>
<span id="cb354-7"><a href="10-Tidyverse.html#cb354-7" tabindex="-1"></a><span class="co">#&gt;   Maison       407  383  396  389  460</span></span>
<span id="cb354-8"><a href="10-Tidyverse.html#cb354-8" tabindex="-1"></a></span>
<span id="cb354-9"><a href="10-Tidyverse.html#cb354-9" tabindex="-1"></a><span class="do">## Solution dplyr</span></span>
<span id="cb354-10"><a href="10-Tidyverse.html#cb354-10" tabindex="-1"></a>don <span class="ot">&lt;-</span> base <span class="sc">%&gt;%</span> <span class="fu">filter</span>(com_code <span class="sc">==</span> <span class="dv">94068</span>) <span class="sc">%&gt;%</span></span>
<span id="cb354-11"><a href="10-Tidyverse.html#cb354-11" tabindex="-1"></a>                <span class="fu">group_by</span>(type, ann) <span class="sc">%&gt;%</span></span>
<span id="cb354-12"><a href="10-Tidyverse.html#cb354-12" tabindex="-1"></a>                <span class="fu">count</span>()</span>
<span id="cb354-13"><a href="10-Tidyverse.html#cb354-13" tabindex="-1"></a>don</span>
<span id="cb354-14"><a href="10-Tidyverse.html#cb354-14" tabindex="-1"></a><span class="co">#&gt; # A tibble: 10 × 3</span></span>
<span id="cb354-15"><a href="10-Tidyverse.html#cb354-15" tabindex="-1"></a><span class="co">#&gt; # Groups:   type, ann [10]</span></span>
<span id="cb354-16"><a href="10-Tidyverse.html#cb354-16" tabindex="-1"></a><span class="co">#&gt;    type          ann     n</span></span>
<span id="cb354-17"><a href="10-Tidyverse.html#cb354-17" tabindex="-1"></a><span class="co">#&gt;    &lt;fct&gt;       &lt;int&gt; &lt;int&gt;</span></span>
<span id="cb354-18"><a href="10-Tidyverse.html#cb354-18" tabindex="-1"></a><span class="co">#&gt;  1 Appartement  2017   931</span></span>
<span id="cb354-19"><a href="10-Tidyverse.html#cb354-19" tabindex="-1"></a><span class="co">#&gt;  2 Appartement  2018   906</span></span>
<span id="cb354-20"><a href="10-Tidyverse.html#cb354-20" tabindex="-1"></a><span class="co">#&gt;  3 Appartement  2019   986</span></span>
<span id="cb354-21"><a href="10-Tidyverse.html#cb354-21" tabindex="-1"></a><span class="co">#&gt;  4 Appartement  2020   837</span></span>
<span id="cb354-22"><a href="10-Tidyverse.html#cb354-22" tabindex="-1"></a><span class="co">#&gt;  5 Appartement  2021   935</span></span>
<span id="cb354-23"><a href="10-Tidyverse.html#cb354-23" tabindex="-1"></a><span class="co">#&gt;  6 Maison       2017   407</span></span>
<span id="cb354-24"><a href="10-Tidyverse.html#cb354-24" tabindex="-1"></a><span class="co">#&gt;  7 Maison       2018   383</span></span>
<span id="cb354-25"><a href="10-Tidyverse.html#cb354-25" tabindex="-1"></a><span class="co">#&gt;  8 Maison       2019   396</span></span>
<span id="cb354-26"><a href="10-Tidyverse.html#cb354-26" tabindex="-1"></a><span class="co">#&gt;  9 Maison       2020   389</span></span>
<span id="cb354-27"><a href="10-Tidyverse.html#cb354-27" tabindex="-1"></a><span class="co">#&gt; 10 Maison       2021   460</span></span></code></pre></div>
<p>On récupère un tableau de données facile à exploiter.</p>
<ul>
<li><strong>Exemple 2 : agrégation</strong></li>
</ul>
<p>On cherche à connaître les prix minimum, moyen et maximum à St Maur par année et par type de logement :</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="10-Tidyverse.html#cb355-1" tabindex="-1"></a><span class="do">## Solution R-base</span></span>
<span id="cb355-2"><a href="10-Tidyverse.html#cb355-2" tabindex="-1"></a>don <span class="ot">&lt;-</span> base[base<span class="sc">$</span>com_code<span class="sc">==</span><span class="dv">94068</span>,]</span>
<span id="cb355-3"><a href="10-Tidyverse.html#cb355-3" tabindex="-1"></a>don<span class="sc">$</span>prixm2 <span class="ot">&lt;-</span> don<span class="sc">$</span>prix<span class="sc">/</span>don<span class="sc">$</span>sup</span>
<span id="cb355-4"><a href="10-Tidyverse.html#cb355-4" tabindex="-1"></a>tab1<span class="ot">&lt;-</span><span class="fu">aggregate</span>(don<span class="sc">$</span>prixm2,</span>
<span id="cb355-5"><a href="10-Tidyverse.html#cb355-5" tabindex="-1"></a>          <span class="at">by=</span> <span class="fu">list</span>(don<span class="sc">$</span>ann,don<span class="sc">$</span>type),</span>
<span id="cb355-6"><a href="10-Tidyverse.html#cb355-6" tabindex="-1"></a>          <span class="at">FUN=</span><span class="st">&quot;min&quot;</span>)</span>
<span id="cb355-7"><a href="10-Tidyverse.html#cb355-7" tabindex="-1"></a><span class="fu">names</span>(tab1)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;ann&quot;</span>,<span class="st">&quot;type&quot;</span>,<span class="st">&quot;minimum&quot;</span>)</span>
<span id="cb355-8"><a href="10-Tidyverse.html#cb355-8" tabindex="-1"></a>tab2<span class="ot">&lt;-</span><span class="fu">aggregate</span>(don<span class="sc">$</span>prixm2,</span>
<span id="cb355-9"><a href="10-Tidyverse.html#cb355-9" tabindex="-1"></a>          <span class="at">by=</span> <span class="fu">list</span>(don<span class="sc">$</span>ann,don<span class="sc">$</span>type),</span>
<span id="cb355-10"><a href="10-Tidyverse.html#cb355-10" tabindex="-1"></a>          <span class="at">FUN=</span><span class="st">&quot;mean&quot;</span>)</span>
<span id="cb355-11"><a href="10-Tidyverse.html#cb355-11" tabindex="-1"></a><span class="fu">names</span>(tab2)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;ann&quot;</span>,<span class="st">&quot;type&quot;</span>,<span class="st">&quot;moyenne&quot;</span>)</span>
<span id="cb355-12"><a href="10-Tidyverse.html#cb355-12" tabindex="-1"></a>tab3<span class="ot">&lt;-</span><span class="fu">aggregate</span>(don<span class="sc">$</span>prixm2,</span>
<span id="cb355-13"><a href="10-Tidyverse.html#cb355-13" tabindex="-1"></a>          <span class="at">by=</span> <span class="fu">list</span>(don<span class="sc">$</span>ann,don<span class="sc">$</span>type),</span>
<span id="cb355-14"><a href="10-Tidyverse.html#cb355-14" tabindex="-1"></a>          <span class="at">FUN=</span><span class="st">&quot;max&quot;</span>)</span>
<span id="cb355-15"><a href="10-Tidyverse.html#cb355-15" tabindex="-1"></a><span class="fu">names</span>(tab3)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;ann&quot;</span>,<span class="st">&quot;type&quot;</span>,<span class="st">&quot;maximum&quot;</span>)</span>
<span id="cb355-16"><a href="10-Tidyverse.html#cb355-16" tabindex="-1"></a>tab<span class="ot">&lt;-</span><span class="fu">merge</span>(tab1,tab2, <span class="at">by=</span><span class="fu">c</span>(<span class="st">&quot;ann&quot;</span>,<span class="st">&quot;type&quot;</span>))</span>
<span id="cb355-17"><a href="10-Tidyverse.html#cb355-17" tabindex="-1"></a>tab<span class="ot">&lt;-</span><span class="fu">merge</span>(tab, tab3, <span class="at">by=</span><span class="fu">c</span>(<span class="st">&quot;ann&quot;</span>,<span class="st">&quot;type&quot;</span>))</span>
<span id="cb355-18"><a href="10-Tidyverse.html#cb355-18" tabindex="-1"></a>tab</span>
<span id="cb355-19"><a href="10-Tidyverse.html#cb355-19" tabindex="-1"></a><span class="co">#&gt;     ann        type   minimum  moyenne  maximum</span></span>
<span id="cb355-20"><a href="10-Tidyverse.html#cb355-20" tabindex="-1"></a><span class="co">#&gt; 1  2017 Appartement  625.0000 4747.739 14675.00</span></span>
<span id="cb355-21"><a href="10-Tidyverse.html#cb355-21" tabindex="-1"></a><span class="co">#&gt; 2  2017      Maison  782.1229 6183.825 19000.00</span></span>
<span id="cb355-22"><a href="10-Tidyverse.html#cb355-22" tabindex="-1"></a><span class="co">#&gt; 3  2018 Appartement  534.4828 5061.336 16302.84</span></span>
<span id="cb355-23"><a href="10-Tidyverse.html#cb355-23" tabindex="-1"></a><span class="co">#&gt; 4  2018      Maison  724.4565 6716.093 19722.22</span></span>
<span id="cb355-24"><a href="10-Tidyverse.html#cb355-24" tabindex="-1"></a><span class="co">#&gt; 5  2019 Appartement  548.9130 5225.323 18142.86</span></span>
<span id="cb355-25"><a href="10-Tidyverse.html#cb355-25" tabindex="-1"></a><span class="co">#&gt; 6  2019      Maison  564.1026 6830.394 15111.11</span></span>
<span id="cb355-26"><a href="10-Tidyverse.html#cb355-26" tabindex="-1"></a><span class="co">#&gt; 7  2020 Appartement  800.7812 5639.620 18240.97</span></span>
<span id="cb355-27"><a href="10-Tidyverse.html#cb355-27" tabindex="-1"></a><span class="co">#&gt; 8  2020      Maison 1003.3333 7391.001 16851.85</span></span>
<span id="cb355-28"><a href="10-Tidyverse.html#cb355-28" tabindex="-1"></a><span class="co">#&gt; 9  2021 Appartement  564.5161 5912.692 18150.00</span></span>
<span id="cb355-29"><a href="10-Tidyverse.html#cb355-29" tabindex="-1"></a><span class="co">#&gt; 10 2021      Maison 1215.6863 8030.321 18011.67</span></span></code></pre></div>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="10-Tidyverse.html#cb356-1" tabindex="-1"></a><span class="do">## Solution dplyr</span></span>
<span id="cb356-2"><a href="10-Tidyverse.html#cb356-2" tabindex="-1"></a>tab <span class="ot">&lt;-</span> base <span class="sc">%&gt;%</span> <span class="fu">filter</span>(com_code <span class="sc">==</span> <span class="dv">94068</span>) <span class="sc">%&gt;%</span></span>
<span id="cb356-3"><a href="10-Tidyverse.html#cb356-3" tabindex="-1"></a>                <span class="fu">mutate</span>(<span class="at">prixm2 =</span> prix<span class="sc">/</span>sup)<span class="sc">%&gt;%</span></span>
<span id="cb356-4"><a href="10-Tidyverse.html#cb356-4" tabindex="-1"></a>                <span class="fu">group_by</span>(type, ann) <span class="sc">%&gt;%</span></span>
<span id="cb356-5"><a href="10-Tidyverse.html#cb356-5" tabindex="-1"></a>                <span class="fu">summarise</span>(<span class="at">minimum =</span> <span class="fu">min</span>(prixm2),</span>
<span id="cb356-6"><a href="10-Tidyverse.html#cb356-6" tabindex="-1"></a>                          <span class="at">maximum=</span><span class="fu">max</span>(prixm2),</span>
<span id="cb356-7"><a href="10-Tidyverse.html#cb356-7" tabindex="-1"></a>                          <span class="at">moyenne =</span> <span class="fu">mean</span>(prixm2))</span>
<span id="cb356-8"><a href="10-Tidyverse.html#cb356-8" tabindex="-1"></a><span class="co">#&gt; `summarise()` has grouped output by &#39;type&#39;. You can</span></span>
<span id="cb356-9"><a href="10-Tidyverse.html#cb356-9" tabindex="-1"></a><span class="co">#&gt; override using the `.groups` argument.</span></span>
<span id="cb356-10"><a href="10-Tidyverse.html#cb356-10" tabindex="-1"></a>tab</span>
<span id="cb356-11"><a href="10-Tidyverse.html#cb356-11" tabindex="-1"></a><span class="co">#&gt; # A tibble: 10 × 5</span></span>
<span id="cb356-12"><a href="10-Tidyverse.html#cb356-12" tabindex="-1"></a><span class="co">#&gt; # Groups:   type [2]</span></span>
<span id="cb356-13"><a href="10-Tidyverse.html#cb356-13" tabindex="-1"></a><span class="co">#&gt;    type          ann minimum maximum moyenne</span></span>
<span id="cb356-14"><a href="10-Tidyverse.html#cb356-14" tabindex="-1"></a><span class="co">#&gt;    &lt;fct&gt;       &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb356-15"><a href="10-Tidyverse.html#cb356-15" tabindex="-1"></a><span class="co">#&gt;  1 Appartement  2017    625   14675    4748.</span></span>
<span id="cb356-16"><a href="10-Tidyverse.html#cb356-16" tabindex="-1"></a><span class="co">#&gt;  2 Appartement  2018    534.  16303.   5061.</span></span>
<span id="cb356-17"><a href="10-Tidyverse.html#cb356-17" tabindex="-1"></a><span class="co">#&gt;  3 Appartement  2019    549.  18143.   5225.</span></span>
<span id="cb356-18"><a href="10-Tidyverse.html#cb356-18" tabindex="-1"></a><span class="co">#&gt;  4 Appartement  2020    801.  18241.   5640.</span></span>
<span id="cb356-19"><a href="10-Tidyverse.html#cb356-19" tabindex="-1"></a><span class="co">#&gt;  5 Appartement  2021    565.  18150    5913.</span></span>
<span id="cb356-20"><a href="10-Tidyverse.html#cb356-20" tabindex="-1"></a><span class="co">#&gt;  6 Maison       2017    782.  19000    6184.</span></span>
<span id="cb356-21"><a href="10-Tidyverse.html#cb356-21" tabindex="-1"></a><span class="co">#&gt;  7 Maison       2018    724.  19722.   6716.</span></span>
<span id="cb356-22"><a href="10-Tidyverse.html#cb356-22" tabindex="-1"></a><span class="co">#&gt;  8 Maison       2019    564.  15111.   6830.</span></span>
<span id="cb356-23"><a href="10-Tidyverse.html#cb356-23" tabindex="-1"></a><span class="co">#&gt;  9 Maison       2020   1003.  16852.   7391.</span></span>
<span id="cb356-24"><a href="10-Tidyverse.html#cb356-24" tabindex="-1"></a><span class="co">#&gt; 10 Maison       2021   1216.  18012.   8030.</span></span></code></pre></div>
<p>On aboutit au même résultat mais l’écriture en dplyr est beaucoup plus concise et beaucoup plus élégante qu’en R-base.</p>
</div>
</div>
<div id="visualiser-avec-ggplot2" class="section level2 hasAnchor" number="12.3">
<h2><span class="header-section-number">12.3</span> Visualiser avec ggplot2<a href="10-Tidyverse.html#visualiser-avec-ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>On commence par charger le package <code>ggplot2</code> qui est une partie de l’univers <code>tidyverse</code> mais que l’on peut utiliser indépendamment du reste de l’empire d’Hadley Wickham…</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="10-Tidyverse.html#cb357-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb357-2"><a href="10-Tidyverse.html#cb357-2" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&quot;resources/figures/ggplot2.jpeg&quot;</span>)</span></code></pre></div>
<p><img src="resources/figures/ggplot2.jpeg" width="870" /></p>
<div id="les-différentes-étapes-1" class="section level3 hasAnchor" number="12.3.1">
<h3><span class="header-section-number">12.3.1</span> Les différentes étapes<a href="10-Tidyverse.html#les-différentes-étapes-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>la commande <strong>ggplot</strong>(<em>data</em>) initie la création du graphique.</li>
<li>la commande <strong>aes()</strong> qui est l’abrévation de <em>aesthetics</em> définit les paramètres généraux de l’ensemble du graphique et comporte en général
<ul>
<li><strong>x =</strong> variable liée à l’axe horizontal</li>
<li><strong>y=</strong> variable liée à l’axe vertical</li>
<li><strong>colour=</strong> : variable définissant des groupes / couleur</li>
<li><strong>shape=</strong> : variable définissant des groupes / forme</li>
</ul></li>
<li>la commande <strong>geom_xxx</strong> crée un graphique de type xxx</li>
<li>les commandes additionnelles <strong>scale_xxx</strong> précisent les axes</li>
<li>la commande additionelle <strong>facet_xxx</strong> partitionne la figure en plusieurs</li>
<li>la commande <strong>theme_xxx</strong> retouche l’ensemble des paramètres de couleur, police, épaisseur</li>
</ul>
<p>N.B. Toutes les étapes ci-dessus ne sont pas obligatoires.</p>
</div>
<div id="la-figure-à-réaliser-1" class="section level3 hasAnchor" number="12.3.2">
<h3><span class="header-section-number">12.3.2</span> La figure à réaliser<a href="10-Tidyverse.html#la-figure-à-réaliser-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Comment réaliser la figure ci-dessous ?</p>
<pre><code>#&gt; `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="bivaR_files/figure-html/exo1bis-1.svg" width="672" /></p>
</div>
<div id="la-construction-pas-à-pas-1" class="section level3 hasAnchor" number="12.3.3">
<h3><span class="header-section-number">12.3.3</span> La construction pas à pas<a href="10-Tidyverse.html#la-construction-pas-à-pas-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>On commence par préparer le tableau de données avec dplyr :</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="10-Tidyverse.html#cb359-1" tabindex="-1"></a>sel<span class="ot">&lt;-</span>base <span class="sc">%&gt;%</span> <span class="fu">filter</span>(com_code<span class="sc">==</span><span class="dv">94068</span>) <span class="sc">%&gt;%</span></span>
<span id="cb359-2"><a href="10-Tidyverse.html#cb359-2" tabindex="-1"></a>              <span class="fu">mutate</span>(<span class="at">periode =</span> <span class="fu">as.factor</span>(ann<span class="sc">&gt;</span><span class="dv">2019</span>))<span class="sc">%&gt;%</span></span>
<span id="cb359-3"><a href="10-Tidyverse.html#cb359-3" tabindex="-1"></a>              <span class="fu">select</span>(periode, type, prix, sup, nbp)</span>
<span id="cb359-4"><a href="10-Tidyverse.html#cb359-4" tabindex="-1"></a><span class="fu">levels</span>(sel<span class="sc">$</span>periode)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;Pre-covid (2017-19)&quot;</span>,<span class="st">&quot;Covid (2020-21)&quot;</span>)</span>
<span id="cb359-5"><a href="10-Tidyverse.html#cb359-5" tabindex="-1"></a><span class="fu">head</span>(sel)</span>
<span id="cb359-6"><a href="10-Tidyverse.html#cb359-6" tabindex="-1"></a><span class="co">#&gt;               periode        type   prix sup nbp</span></span>
<span id="cb359-7"><a href="10-Tidyverse.html#cb359-7" tabindex="-1"></a><span class="co">#&gt; 1 Pre-covid (2017-19) Appartement 170000  35   3</span></span>
<span id="cb359-8"><a href="10-Tidyverse.html#cb359-8" tabindex="-1"></a><span class="co">#&gt; 2 Pre-covid (2017-19) Appartement 362000  59   3</span></span>
<span id="cb359-9"><a href="10-Tidyverse.html#cb359-9" tabindex="-1"></a><span class="co">#&gt; 3 Pre-covid (2017-19) Appartement 315000  52   3</span></span>
<span id="cb359-10"><a href="10-Tidyverse.html#cb359-10" tabindex="-1"></a><span class="co">#&gt; 4 Pre-covid (2017-19) Appartement 405000  62   2</span></span>
<span id="cb359-11"><a href="10-Tidyverse.html#cb359-11" tabindex="-1"></a><span class="co">#&gt; 5 Pre-covid (2017-19)      Maison 174500  36   2</span></span>
<span id="cb359-12"><a href="10-Tidyverse.html#cb359-12" tabindex="-1"></a><span class="co">#&gt; 6 Pre-covid (2017-19) Appartement 344700  63   3</span></span></code></pre></div>
<p>On définit le tableau de données avec <code>ggplot()</code> et les variables principales avec <code>aes()</code></p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="10-Tidyverse.html#cb360-1" tabindex="-1"></a></span>
<span id="cb360-2"><a href="10-Tidyverse.html#cb360-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(sel) <span class="sc">+</span></span>
<span id="cb360-3"><a href="10-Tidyverse.html#cb360-3" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> sup) <span class="sc">+</span></span>
<span id="cb360-4"><a href="10-Tidyverse.html#cb360-4" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">y =</span> prix) <span class="sc">+</span></span>
<span id="cb360-5"><a href="10-Tidyverse.html#cb360-5" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">col =</span> type)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-384-1.svg" width="672" /></p>
<p>On ajoute le type principal du graphique avec la commande <code>geom_point()</code></p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="10-Tidyverse.html#cb361-1" tabindex="-1"></a></span>
<span id="cb361-2"><a href="10-Tidyverse.html#cb361-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(sel) <span class="sc">+</span></span>
<span id="cb361-3"><a href="10-Tidyverse.html#cb361-3" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> sup) <span class="sc">+</span></span>
<span id="cb361-4"><a href="10-Tidyverse.html#cb361-4" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">y =</span> prix) <span class="sc">+</span></span>
<span id="cb361-5"><a href="10-Tidyverse.html#cb361-5" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-385-1.svg" width="672" /></p>
<p>On retouche les axes horizontaux et verticaux en les passant en logarithme et en leur donnant un titre.</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="10-Tidyverse.html#cb362-1" tabindex="-1"></a></span>
<span id="cb362-2"><a href="10-Tidyverse.html#cb362-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(sel) <span class="sc">+</span></span>
<span id="cb362-3"><a href="10-Tidyverse.html#cb362-3" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> sup) <span class="sc">+</span></span>
<span id="cb362-4"><a href="10-Tidyverse.html#cb362-4" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">y =</span> prix) <span class="sc">+</span></span>
<span id="cb362-5"><a href="10-Tidyverse.html#cb362-5" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb362-6"><a href="10-Tidyverse.html#cb362-6" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name=</span><span class="st">&quot;Surface du logement&quot;</span>)<span class="sc">+</span></span>
<span id="cb362-7"><a href="10-Tidyverse.html#cb362-7" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name=</span><span class="st">&quot;Prix de vente&quot;</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-386-1.svg" width="672" /></p>
<p>On segmente le graphique en facettes selon une ou plusieurs variables avec <code>facet_wrap()</code>. Du coup, on retire ces variables de l’esthétique générale :</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="10-Tidyverse.html#cb363-1" tabindex="-1"></a></span>
<span id="cb363-2"><a href="10-Tidyverse.html#cb363-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(sel) <span class="sc">+</span></span>
<span id="cb363-3"><a href="10-Tidyverse.html#cb363-3" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> sup) <span class="sc">+</span></span>
<span id="cb363-4"><a href="10-Tidyverse.html#cb363-4" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">y =</span> prix) <span class="sc">+</span></span>
<span id="cb363-5"><a href="10-Tidyverse.html#cb363-5" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb363-6"><a href="10-Tidyverse.html#cb363-6" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name=</span><span class="st">&quot;Surface du logement&quot;</span>)<span class="sc">+</span></span>
<span id="cb363-7"><a href="10-Tidyverse.html#cb363-7" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name=</span><span class="st">&quot;Prix de vente&quot;</span>)<span class="sc">+</span></span>
<span id="cb363-8"><a href="10-Tidyverse.html#cb363-8" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(type, periode),<span class="at">ncol=</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-387-1.svg" width="672" /></p>
<p>On ajoute dans chaque facette une droite de tendance et son intervalle de confiance avec <code>geom_smooth()</code>. On précise <em>method=“lm”</em> pour avoir une droite et non pas une courbe</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="10-Tidyverse.html#cb364-1" tabindex="-1"></a></span>
<span id="cb364-2"><a href="10-Tidyverse.html#cb364-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(sel) <span class="sc">+</span></span>
<span id="cb364-3"><a href="10-Tidyverse.html#cb364-3" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> sup) <span class="sc">+</span></span>
<span id="cb364-4"><a href="10-Tidyverse.html#cb364-4" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">y =</span> prix) <span class="sc">+</span></span>
<span id="cb364-5"><a href="10-Tidyverse.html#cb364-5" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb364-6"><a href="10-Tidyverse.html#cb364-6" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name=</span><span class="st">&quot;Surface du logement&quot;</span>)<span class="sc">+</span></span>
<span id="cb364-7"><a href="10-Tidyverse.html#cb364-7" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name=</span><span class="st">&quot;Prix de vente&quot;</span>)<span class="sc">+</span></span>
<span id="cb364-8"><a href="10-Tidyverse.html#cb364-8" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(type, periode),<span class="at">ncol=</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-388-1.svg" width="672" /></p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="10-Tidyverse.html#cb365-1" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>) </span>
<span id="cb365-2"><a href="10-Tidyverse.html#cb365-2" tabindex="-1"></a><span class="co">#&gt; geom_smooth: na.rm = FALSE, orientation = NA, se = TRUE</span></span>
<span id="cb365-3"><a href="10-Tidyverse.html#cb365-3" tabindex="-1"></a><span class="co">#&gt; stat_smooth: na.rm = FALSE, orientation = NA, se = TRUE, method = lm</span></span>
<span id="cb365-4"><a href="10-Tidyverse.html#cb365-4" tabindex="-1"></a><span class="co">#&gt; position_identity</span></span></code></pre></div>
<p>Onajoute un titre principal avec <code>ggtitle()</code> et on retouche l’ensemble de l’apparence avec <code>theme_light()</code>.</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="10-Tidyverse.html#cb366-1" tabindex="-1"></a></span>
<span id="cb366-2"><a href="10-Tidyverse.html#cb366-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(sel) <span class="sc">+</span></span>
<span id="cb366-3"><a href="10-Tidyverse.html#cb366-3" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> sup) <span class="sc">+</span></span>
<span id="cb366-4"><a href="10-Tidyverse.html#cb366-4" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">y =</span> prix) <span class="sc">+</span></span>
<span id="cb366-5"><a href="10-Tidyverse.html#cb366-5" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb366-6"><a href="10-Tidyverse.html#cb366-6" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name=</span><span class="st">&quot;Surface du logement&quot;</span>)<span class="sc">+</span></span>
<span id="cb366-7"><a href="10-Tidyverse.html#cb366-7" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name=</span><span class="st">&quot;Prix de vente&quot;</span>)<span class="sc">+</span></span>
<span id="cb366-8"><a href="10-Tidyverse.html#cb366-8" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(type, periode),<span class="at">ncol=</span> <span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb366-9"><a href="10-Tidyverse.html#cb366-9" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>) <span class="sc">+</span></span>
<span id="cb366-10"><a href="10-Tidyverse.html#cb366-10" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">&quot;Ventes de logements à Saint-Maur (2017-2021)&quot;</span>,</span>
<span id="cb366-11"><a href="10-Tidyverse.html#cb366-11" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">&quot;Source : DVF &quot;</span>) <span class="sc">+</span></span>
<span id="cb366-12"><a href="10-Tidyverse.html#cb366-12" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span>
<span id="cb366-13"><a href="10-Tidyverse.html#cb366-13" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using formula = &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-389-1.svg" width="672" /></p>
</div>
<div id="comparaison-avec-r-base-1" class="section level3 hasAnchor" number="12.3.4">
<h3><span class="header-section-number">12.3.4</span> Comparaison avec R-Base<a href="10-Tidyverse.html#comparaison-avec-r-base-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>La principale différence réside dans la <strong>construction séquentielle</strong> de la figure avec l’opérateur <strong>+</strong>. A tout moment on peut sauvegarder la figure au cours d’une des étapes décrites dans l’exemple. On parle de <strong>pipeline</strong> pour ce type de programme que l’on retrouve dans la manipulation de données avec <strong>tidyverse</strong> et <strong>dplyr</strong>.</p></li>
<li><p>La seconde différence réside dans la <strong>production rapide</strong> d’une figure de qualité graphique acceptable sans avoir besoin de spécifier les paramètres <strong>par()</strong> de R-Base.</p></li>
<li><p>Au total, ggplot2 s’impose actuellement comme un <strong>standard mondial</strong> autour duquel se greffent d’autres applications. Par exemple, on peut rendre interactif un graphique ggplot() en le couplant avec <strong>plotly()</strong>.</p></li>
<li><p>Mais … ggplot2 est <strong>beaucoup moins simple</strong> qu’il n’y paraît de prime abord. Et on peut facilement s’arracher les cheveux sur certaines commandes !</p></li>
</ul>
</div>
<div id="attention-paramètres-aes-locaux-et-globaux-1" class="section level3 hasAnchor" number="12.3.5">
<h3><span class="header-section-number">12.3.5</span> Attention ! Paramètres aes() locaux et globaux<a href="10-Tidyverse.html#attention-paramètres-aes-locaux-et-globaux-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Une des plus grandes difficultés que l’on rencontre dans ggplot() est <strong>la manipulation du paramètre aes()</strong> qui peut renvoyer :</p>
<ul>
<li>soit à des <strong>paramètres globaux</strong> s’ils apparaissent dans le ggplot initial ou dans des lignes de codes isolées</li>
<li>soit à des <strong>paramètres locaux</strong>, s’ils apparaissent à l’intérieur d’une fonction geom().</li>
</ul>
<p>Deux exemples rapides pour bien comprendre</p>
<ul>
<li><strong>type est un paramètre global</strong> : dans ce cas il s’applique à toutes les commandes qui suivent. Il y aura donc <strong>deux</strong> droites de régression générées par geom_smooth</li>
</ul>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="10-Tidyverse.html#cb367-1" tabindex="-1"></a><span class="fu">ggplot</span>(sel, <span class="fu">aes</span>(<span class="at">x =</span> sup, <span class="at">y =</span> prix, <span class="at">color =</span> type)) <span class="sc">+</span></span>
<span id="cb367-2"><a href="10-Tidyverse.html#cb367-2" tabindex="-1"></a><span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb367-3"><a href="10-Tidyverse.html#cb367-3" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>)</span>
<span id="cb367-4"><a href="10-Tidyverse.html#cb367-4" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using formula = &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-390-1.svg" width="672" /></p>
<ul>
<li><strong>type est un paramètre local de geom_point()</strong> : dans ce cas il n’aura pas d’effet sur geom_smooth() qui va générer <strong>une</strong> seule droite de régression.</li>
</ul>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="10-Tidyverse.html#cb368-1" tabindex="-1"></a><span class="fu">ggplot</span>(sel, <span class="fu">aes</span>(<span class="at">x =</span> sup, <span class="at">y =</span> prix)) <span class="sc">+</span></span>
<span id="cb368-2"><a href="10-Tidyverse.html#cb368-2" tabindex="-1"></a><span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color=</span>type)) <span class="sc">+</span></span>
<span id="cb368-3"><a href="10-Tidyverse.html#cb368-3" tabindex="-1"></a><span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>)</span>
<span id="cb368-4"><a href="10-Tidyverse.html#cb368-4" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using formula = &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-391-1.svg" width="672" /></p>
</div>
</div>
<div id="comparaison-r-base-ggplot2" class="section level2 hasAnchor" number="12.4">
<h2><span class="header-section-number">12.4</span> Comparaison R-Base / Ggplot2<a href="10-Tidyverse.html#comparaison-r-base-ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="x-discrète-1" class="section level3 hasAnchor" number="12.4.1">
<h3><span class="header-section-number">12.4.1</span> X discrète<a href="10-Tidyverse.html#x-discrète-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="barplot-r-base-1" class="section level4 hasAnchor" number="12.4.1.1">
<h4><span class="header-section-number">12.4.1.1</span> barplot (R-base)<a href="10-Tidyverse.html#barplot-r-base-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="10-Tidyverse.html#cb369-1" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(sel<span class="sc">$</span>type), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>),</span>
<span id="cb369-2"><a href="10-Tidyverse.html#cb369-2" tabindex="-1"></a>        <span class="at">xlab=</span><span class="st">&quot;Type de logement&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;effectif&quot;</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-392-1.svg" width="672" /></p>
</div>
<div id="geom_bar-ggplot2-2" class="section level4 hasAnchor" number="12.4.1.2">
<h4><span class="header-section-number">12.4.1.2</span> geom_bar (ggplot2)<a href="10-Tidyverse.html#geom_bar-ggplot2-2" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="10-Tidyverse.html#cb370-1" tabindex="-1"></a><span class="co"># ggplot</span></span>
<span id="cb370-2"><a href="10-Tidyverse.html#cb370-2" tabindex="-1"></a><span class="fu">ggplot</span>(sel) <span class="sc">+</span></span>
<span id="cb370-3"><a href="10-Tidyverse.html#cb370-3" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span>type) <span class="sc">+</span></span>
<span id="cb370-4"><a href="10-Tidyverse.html#cb370-4" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;red&quot;</span>))<span class="sc">+</span></span>
<span id="cb370-5"><a href="10-Tidyverse.html#cb370-5" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name=</span><span class="st">&quot;Type de logement&quot;</span>)<span class="sc">+</span></span>
<span id="cb370-6"><a href="10-Tidyverse.html#cb370-6" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name=</span><span class="st">&quot;effectif&quot;</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-393-1.svg" width="672" /></p>
</div>
</div>
<div id="x-quantitative-continue-1" class="section level3 hasAnchor" number="12.4.2">
<h3><span class="header-section-number">12.4.2</span> X quantitative continue<a href="10-Tidyverse.html#x-quantitative-continue-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="hist-r-base-1" class="section level4 hasAnchor" number="12.4.2.1">
<h4><span class="header-section-number">12.4.2.1</span> hist (R-base)<a href="10-Tidyverse.html#hist-r-base-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="10-Tidyverse.html#cb371-1" tabindex="-1"></a>sel2<span class="ot">&lt;-</span>sel[sel<span class="sc">$</span>type<span class="sc">==</span><span class="st">&quot;Maison&quot;</span>,]</span>
<span id="cb371-2"><a href="10-Tidyverse.html#cb371-2" tabindex="-1"></a><span class="fu">hist</span>(sel2<span class="sc">$</span>prix,<span class="at">breaks =</span> <span class="dv">15</span>,</span>
<span id="cb371-3"><a href="10-Tidyverse.html#cb371-3" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;lightyellow&quot;</span>,</span>
<span id="cb371-4"><a href="10-Tidyverse.html#cb371-4" tabindex="-1"></a>     <span class="at">border =</span> <span class="st">&quot;blue&quot;</span>,</span>
<span id="cb371-5"><a href="10-Tidyverse.html#cb371-5" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">&quot;Prix de vente&quot;</span>,</span>
<span id="cb371-6"><a href="10-Tidyverse.html#cb371-6" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Nombre de ventes&quot;</span>,</span>
<span id="cb371-7"><a href="10-Tidyverse.html#cb371-7" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Ventes de maison&quot;</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-394-1.svg" width="672" /></p>
</div>
<div id="geom_histogram-ggplot2-1" class="section level4 hasAnchor" number="12.4.2.2">
<h4><span class="header-section-number">12.4.2.2</span> geom_histogram (ggplot2)<a href="10-Tidyverse.html#geom_histogram-ggplot2-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="10-Tidyverse.html#cb372-1" tabindex="-1"></a><span class="co"># On démarre par une ligne de tidyverse ...</span></span>
<span id="cb372-2"><a href="10-Tidyverse.html#cb372-2" tabindex="-1"></a>sel <span class="sc">%&gt;%</span>  <span class="fu">filter</span>(type<span class="sc">==</span><span class="st">&quot;Maison&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb372-3"><a href="10-Tidyverse.html#cb372-3" tabindex="-1"></a><span class="co">#  ... en on embraye sur ggplot2 </span></span>
<span id="cb372-4"><a href="10-Tidyverse.html#cb372-4" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb372-5"><a href="10-Tidyverse.html#cb372-5" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span>prix) <span class="sc">+</span> </span>
<span id="cb372-6"><a href="10-Tidyverse.html#cb372-6" tabindex="-1"></a><span class="co"># Appel de la fonction principale  </span></span>
<span id="cb372-7"><a href="10-Tidyverse.html#cb372-7" tabindex="-1"></a>  <span class="fu">geom_histogram</span>( <span class="at">bins =</span> <span class="dv">15</span>,     </span>
<span id="cb372-8"><a href="10-Tidyverse.html#cb372-8" tabindex="-1"></a>                 <span class="at">fill=</span><span class="st">&quot;lightyellow&quot;</span>,</span>
<span id="cb372-9"><a href="10-Tidyverse.html#cb372-9" tabindex="-1"></a>                 <span class="at">col=</span><span class="st">&quot;blue&quot;</span> </span>
<span id="cb372-10"><a href="10-Tidyverse.html#cb372-10" tabindex="-1"></a>                 ) <span class="sc">+</span>   </span>
<span id="cb372-11"><a href="10-Tidyverse.html#cb372-11" tabindex="-1"></a><span class="co"># Retouche de l&#39;échelle</span></span>
<span id="cb372-12"><a href="10-Tidyverse.html#cb372-12" tabindex="-1"></a> <span class="fu">scale_x_continuous</span>( <span class="at">name =</span> <span class="st">&quot;Prix de vente&quot;</span>) <span class="sc">+</span> </span>
<span id="cb372-13"><a href="10-Tidyverse.html#cb372-13" tabindex="-1"></a> <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">&quot;Nombre de ventes&quot;</span>)<span class="sc">+</span></span>
<span id="cb372-14"><a href="10-Tidyverse.html#cb372-14" tabindex="-1"></a><span class="co"># Ajout du titre </span></span>
<span id="cb372-15"><a href="10-Tidyverse.html#cb372-15" tabindex="-1"></a> <span class="fu">ggtitle</span>(<span class="st">&quot;Ventes de logements à Saint-Maur (2017-2021)&quot;</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-395-1.svg" width="672" /></p>
</div>
</div>
<div id="x-et-y-quantitatives-continues-1" class="section level3 hasAnchor" number="12.4.3">
<h3><span class="header-section-number">12.4.3</span> X et Y quantitatives continues<a href="10-Tidyverse.html#x-et-y-quantitatives-continues-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="plot-r-base-1" class="section level4 hasAnchor" number="12.4.3.1">
<h4><span class="header-section-number">12.4.3.1</span> plot (R-base)<a href="10-Tidyverse.html#plot-r-base-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="10-Tidyverse.html#cb373-1" tabindex="-1"></a></span>
<span id="cb373-2"><a href="10-Tidyverse.html#cb373-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> sel<span class="sc">$</span>sup,</span>
<span id="cb373-3"><a href="10-Tidyverse.html#cb373-3" tabindex="-1"></a>     <span class="at">y =</span> sel<span class="sc">$</span>prix, </span>
<span id="cb373-4"><a href="10-Tidyverse.html#cb373-4" tabindex="-1"></a>     <span class="at">cex=</span><span class="dv">0</span>, </span>
<span id="cb373-5"><a href="10-Tidyverse.html#cb373-5" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">&quot;Surface&quot;</span>,</span>
<span id="cb373-6"><a href="10-Tidyverse.html#cb373-6" tabindex="-1"></a>     <span class="at">ylab=</span><span class="st">&quot;Prix de vente&quot;</span>,</span>
<span id="cb373-7"><a href="10-Tidyverse.html#cb373-7" tabindex="-1"></a>     <span class="at">main=</span> <span class="st">&quot;Ventes de maison&quot;</span>)</span>
<span id="cb373-8"><a href="10-Tidyverse.html#cb373-8" tabindex="-1"></a><span class="fu">points</span>(<span class="at">x =</span> sel<span class="sc">$</span>sup,</span>
<span id="cb373-9"><a href="10-Tidyverse.html#cb373-9" tabindex="-1"></a>       <span class="at">y =</span> sel<span class="sc">$</span>prix, </span>
<span id="cb373-10"><a href="10-Tidyverse.html#cb373-10" tabindex="-1"></a>       <span class="at">col=</span>sel<span class="sc">$</span>type, </span>
<span id="cb373-11"><a href="10-Tidyverse.html#cb373-11" tabindex="-1"></a>       <span class="at">cex=</span><span class="fu">sqrt</span>(sel<span class="sc">$</span>nbp), </span>
<span id="cb373-12"><a href="10-Tidyverse.html#cb373-12" tabindex="-1"></a>       <span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb373-13"><a href="10-Tidyverse.html#cb373-13" tabindex="-1"></a><span class="fu">abline</span>(<span class="fu">lm</span>(sel<span class="sc">$</span>prix<span class="sc">~</span>sel<span class="sc">$</span>sup), </span>
<span id="cb373-14"><a href="10-Tidyverse.html#cb373-14" tabindex="-1"></a>       <span class="at">col=</span><span class="st">&quot;blue&quot;</span>,</span>
<span id="cb373-15"><a href="10-Tidyverse.html#cb373-15" tabindex="-1"></a>       <span class="at">lwd=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-396-1.svg" width="672" /></p>
</div>
<div id="geom_point-ggplot2-1" class="section level4 hasAnchor" number="12.4.3.2">
<h4><span class="header-section-number">12.4.3.2</span> geom_point (ggplot2)<a href="10-Tidyverse.html#geom_point-ggplot2-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="10-Tidyverse.html#cb374-1" tabindex="-1"></a></span>
<span id="cb374-2"><a href="10-Tidyverse.html#cb374-2" tabindex="-1"></a><span class="co">#  On définit les paramètres globaux </span></span>
<span id="cb374-3"><a href="10-Tidyverse.html#cb374-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(sel, <span class="fu">aes</span>(<span class="at">x =</span>sup, <span class="at">y=</span>prix)) <span class="sc">+</span></span>
<span id="cb374-4"><a href="10-Tidyverse.html#cb374-4" tabindex="-1"></a>  </span>
<span id="cb374-5"><a href="10-Tidyverse.html#cb374-5" tabindex="-1"></a><span class="co"># On trace les points avec </span></span>
<span id="cb374-6"><a href="10-Tidyverse.html#cb374-6" tabindex="-1"></a><span class="co"># des paramètres locaux</span></span>
<span id="cb374-7"><a href="10-Tidyverse.html#cb374-7" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color=</span>type, </span>
<span id="cb374-8"><a href="10-Tidyverse.html#cb374-8" tabindex="-1"></a>                 <span class="at">size =</span> nbp)) <span class="sc">+</span></span>
<span id="cb374-9"><a href="10-Tidyverse.html#cb374-9" tabindex="-1"></a>  </span>
<span id="cb374-10"><a href="10-Tidyverse.html#cb374-10" tabindex="-1"></a><span class="co"># On ajoute la droite de régression</span></span>
<span id="cb374-11"><a href="10-Tidyverse.html#cb374-11" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>) <span class="sc">+</span></span>
<span id="cb374-12"><a href="10-Tidyverse.html#cb374-12" tabindex="-1"></a>  </span>
<span id="cb374-13"><a href="10-Tidyverse.html#cb374-13" tabindex="-1"></a><span class="co"># On ajoute les titres</span></span>
<span id="cb374-14"><a href="10-Tidyverse.html#cb374-14" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name=</span><span class="st">&quot;surface&quot;</span>) <span class="sc">+</span></span>
<span id="cb374-15"><a href="10-Tidyverse.html#cb374-15" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name=</span><span class="st">&quot;prix de vente&quot;</span>) <span class="sc">+</span></span>
<span id="cb374-16"><a href="10-Tidyverse.html#cb374-16" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Ventes de logements à Saint-Maur (2017-2021)&quot;</span>)</span>
<span id="cb374-17"><a href="10-Tidyverse.html#cb374-17" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using formula = &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-397-1.svg" width="672" /></p>
</div>
</div>
<div id="x-quantitative-continue-et-y-discrète-1" class="section level3 hasAnchor" number="12.4.4">
<h3><span class="header-section-number">12.4.4</span> X quantitative continue et Y discrète<a href="10-Tidyverse.html#x-quantitative-continue-et-y-discrète-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="boxplot-r-base-1" class="section level4 hasAnchor" number="12.4.4.1">
<h4><span class="header-section-number">12.4.4.1</span> boxplot (R-base)<a href="10-Tidyverse.html#boxplot-r-base-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="10-Tidyverse.html#cb375-1" tabindex="-1"></a>sel2<span class="ot">&lt;-</span>sel[(sel<span class="sc">$</span>type<span class="sc">==</span><span class="st">&quot;Maison&quot;</span>),]</span>
<span id="cb375-2"><a href="10-Tidyverse.html#cb375-2" tabindex="-1"></a>sel2<span class="sc">$</span>SIZE<span class="ot">&lt;-</span><span class="fu">as.factor</span>(sel2<span class="sc">$</span>nbp)</span>
<span id="cb375-3"><a href="10-Tidyverse.html#cb375-3" tabindex="-1"></a><span class="co">#levels(don2$SIZE)&lt;-c(&quot;1 ou 2&quot;, &quot;1 ou 2&quot;, &quot;3 ou 4&quot;, &quot;3 ou 4&quot;, &quot;5 ou 6&quot;, &quot;5 ou 6&quot;)</span></span>
<span id="cb375-4"><a href="10-Tidyverse.html#cb375-4" tabindex="-1"></a><span class="fu">boxplot</span>(sel2<span class="sc">$</span>prix<span class="sc">~</span>sel2<span class="sc">$</span>SIZE, </span>
<span id="cb375-5"><a href="10-Tidyverse.html#cb375-5" tabindex="-1"></a>      <span class="at">col=</span><span class="fu">rainbow</span>(<span class="at">n=</span><span class="dv">12</span>, <span class="at">alpha=</span><span class="fl">0.5</span>),</span>
<span id="cb375-6"><a href="10-Tidyverse.html#cb375-6" tabindex="-1"></a>       <span class="at">xlab=</span><span class="st">&quot;Nombre de pièces&quot;</span>,</span>
<span id="cb375-7"><a href="10-Tidyverse.html#cb375-7" tabindex="-1"></a>       <span class="at">ylab=</span><span class="st">&quot;Prix&quot;</span>,</span>
<span id="cb375-8"><a href="10-Tidyverse.html#cb375-8" tabindex="-1"></a>      <span class="at">main=</span> <span class="st">&quot;Ventes de logements à Saint-Maur (2017-2021)&quot;</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-398-1.svg" width="672" /></p>
</div>
<div id="geom_boxplot-ggplot2-1" class="section level4 hasAnchor" number="12.4.4.2">
<h4><span class="header-section-number">12.4.4.2</span> geom_boxplot (ggplot2)<a href="10-Tidyverse.html#geom_boxplot-ggplot2-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb376-1"><a href="10-Tidyverse.html#cb376-1" tabindex="-1"></a><span class="co"># On filtre le tableau et on change SIZE en factor</span></span>
<span id="cb376-2"><a href="10-Tidyverse.html#cb376-2" tabindex="-1"></a>sel <span class="sc">%&gt;%</span>  <span class="fu">filter</span>(type<span class="sc">==</span><span class="st">&quot;Maison&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb376-3"><a href="10-Tidyverse.html#cb376-3" tabindex="-1"></a>         <span class="fu">mutate</span>(<span class="at">SIZE =</span> <span class="fu">as.factor</span>(nbp)) <span class="sc">%&gt;%</span></span>
<span id="cb376-4"><a href="10-Tidyverse.html#cb376-4" tabindex="-1"></a>  </span>
<span id="cb376-5"><a href="10-Tidyverse.html#cb376-5" tabindex="-1"></a><span class="co"># On définit les paramètres principaux</span></span>
<span id="cb376-6"><a href="10-Tidyverse.html#cb376-6" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span> SIZE,<span class="at">y =</span> prix)) <span class="sc">+</span></span>
<span id="cb376-7"><a href="10-Tidyverse.html#cb376-7" tabindex="-1"></a>  </span>
<span id="cb376-8"><a href="10-Tidyverse.html#cb376-8" tabindex="-1"></a><span class="co"># On ajoute la boxplot</span></span>
<span id="cb376-9"><a href="10-Tidyverse.html#cb376-9" tabindex="-1"></a><span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill=</span> SIZE)) <span class="sc">+</span></span>
<span id="cb376-10"><a href="10-Tidyverse.html#cb376-10" tabindex="-1"></a>  </span>
<span id="cb376-11"><a href="10-Tidyverse.html#cb376-11" tabindex="-1"></a>  </span>
<span id="cb376-12"><a href="10-Tidyverse.html#cb376-12" tabindex="-1"></a><span class="co"># On ajoute les titres</span></span>
<span id="cb376-13"><a href="10-Tidyverse.html#cb376-13" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name=</span><span class="st">&quot;Nombre de pièces&quot;</span>) <span class="sc">+</span></span>
<span id="cb376-14"><a href="10-Tidyverse.html#cb376-14" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name=</span><span class="st">&quot;Prix de vente&quot;</span>) <span class="sc">+</span></span>
<span id="cb376-15"><a href="10-Tidyverse.html#cb376-15" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Ventes de logements à Saint-Maur (2017-2021)&quot;</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-399-1.svg" width="672" /></p>
</div>
<div id="beanplot-r-base-package-beanplot-1" class="section level4 hasAnchor" number="12.4.4.3">
<h4><span class="header-section-number">12.4.4.3</span> beanplot (R-base + package beanplot)<a href="10-Tidyverse.html#beanplot-r-base-package-beanplot-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="10-Tidyverse.html#cb377-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">bg=</span><span class="st">&quot;black&quot;</span>,<span class="at">fg=</span><span class="st">&quot;white&quot;</span>,<span class="at">col.lab =</span><span class="st">&quot;white&quot;</span>, <span class="at">col.axis =</span><span class="st">&quot;white&quot;</span>,<span class="at">col.main=</span><span class="st">&quot;white&quot;</span> )</span>
<span id="cb377-2"><a href="10-Tidyverse.html#cb377-2" tabindex="-1"></a>sel2<span class="ot">&lt;-</span>sel[(sel<span class="sc">$</span>type<span class="sc">==</span><span class="st">&quot;Maison&quot;</span>),]</span>
<span id="cb377-3"><a href="10-Tidyverse.html#cb377-3" tabindex="-1"></a>sel2<span class="sc">$</span>SIZE<span class="ot">&lt;-</span><span class="fu">as.factor</span>(sel2<span class="sc">$</span>nbp)</span>
<span id="cb377-4"><a href="10-Tidyverse.html#cb377-4" tabindex="-1"></a><span class="co">#levels(don2$SIZE)&lt;-c(&quot;1 ou 2&quot;, &quot;1 ou 2&quot;, &quot;3 ou 4&quot;, &quot;3 ou 4&quot;, &quot;5 ou 6&quot;, &quot;5 ou 6&quot;)</span></span>
<span id="cb377-5"><a href="10-Tidyverse.html#cb377-5" tabindex="-1"></a><span class="fu">library</span>(beanplot)</span>
<span id="cb377-6"><a href="10-Tidyverse.html#cb377-6" tabindex="-1"></a></span>
<span id="cb377-7"><a href="10-Tidyverse.html#cb377-7" tabindex="-1"></a></span>
<span id="cb377-8"><a href="10-Tidyverse.html#cb377-8" tabindex="-1"></a><span class="fu">beanplot</span>(sel2<span class="sc">$</span>prix<span class="sc">~</span>sel2<span class="sc">$</span>SIZE, </span>
<span id="cb377-9"><a href="10-Tidyverse.html#cb377-9" tabindex="-1"></a>         <span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;lightyellow&quot;</span>,<span class="st">&quot;red&quot;</span>),</span>
<span id="cb377-10"><a href="10-Tidyverse.html#cb377-10" tabindex="-1"></a>       <span class="at">xlab=</span><span class="st">&quot;Nombre de pièces&quot;</span>,</span>
<span id="cb377-11"><a href="10-Tidyverse.html#cb377-11" tabindex="-1"></a>       <span class="at">ylab=</span><span class="st">&quot;Prix&quot;</span>,</span>
<span id="cb377-12"><a href="10-Tidyverse.html#cb377-12" tabindex="-1"></a>      <span class="at">main=</span> <span class="st">&quot;Ventes de logements à Saint-Maur (2017-2021)&quot;</span>)</span>
<span id="cb377-13"><a href="10-Tidyverse.html#cb377-13" tabindex="-1"></a><span class="co">#&gt; log=&quot;y&quot; selected</span></span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-400-1.svg" width="672" /></p>
</div>
<div id="geom_violin-ggplot2-1" class="section level4 hasAnchor" number="12.4.4.4">
<h4><span class="header-section-number">12.4.4.4</span> geom_violin (ggplot2)<a href="10-Tidyverse.html#geom_violin-ggplot2-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="10-Tidyverse.html#cb378-1" tabindex="-1"></a><span class="co"># On filtre le tableau et on change SIZE en factor</span></span>
<span id="cb378-2"><a href="10-Tidyverse.html#cb378-2" tabindex="-1"></a>sel <span class="sc">%&gt;%</span>  <span class="fu">filter</span>(type<span class="sc">==</span><span class="st">&quot;Maison&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb378-3"><a href="10-Tidyverse.html#cb378-3" tabindex="-1"></a>         <span class="fu">mutate</span>(<span class="at">SIZE =</span> <span class="fu">as.factor</span>(nbp)) <span class="sc">%&gt;%</span></span>
<span id="cb378-4"><a href="10-Tidyverse.html#cb378-4" tabindex="-1"></a>  </span>
<span id="cb378-5"><a href="10-Tidyverse.html#cb378-5" tabindex="-1"></a><span class="co"># On définit les paramètres principaux</span></span>
<span id="cb378-6"><a href="10-Tidyverse.html#cb378-6" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span> SIZE,<span class="at">y =</span> prix)) <span class="sc">+</span></span>
<span id="cb378-7"><a href="10-Tidyverse.html#cb378-7" tabindex="-1"></a>  </span>
<span id="cb378-8"><a href="10-Tidyverse.html#cb378-8" tabindex="-1"></a><span class="co"># On ajoute la géométrie </span></span>
<span id="cb378-9"><a href="10-Tidyverse.html#cb378-9" tabindex="-1"></a><span class="fu">geom_violin</span>(<span class="fu">aes</span>(<span class="at">fill=</span> SIZE)) <span class="sc">+</span></span>
<span id="cb378-10"><a href="10-Tidyverse.html#cb378-10" tabindex="-1"></a>  </span>
<span id="cb378-11"><a href="10-Tidyverse.html#cb378-11" tabindex="-1"></a><span class="co"># On ajoute les titres</span></span>
<span id="cb378-12"><a href="10-Tidyverse.html#cb378-12" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name=</span><span class="st">&quot;Nombre de pièces&quot;</span>) <span class="sc">+</span></span>
<span id="cb378-13"><a href="10-Tidyverse.html#cb378-13" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name=</span><span class="st">&quot;Prix de vente&quot;</span>) <span class="sc">+</span></span>
<span id="cb378-14"><a href="10-Tidyverse.html#cb378-14" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Ventes de logements à Saint-Maur (2017-2021)&quot;</span>) <span class="sc">+</span></span>
<span id="cb378-15"><a href="10-Tidyverse.html#cb378-15" tabindex="-1"></a></span>
<span id="cb378-16"><a href="10-Tidyverse.html#cb378-16" tabindex="-1"></a><span class="co"># On passe en thème &quot;dark&quot;</span></span>
<span id="cb378-17"><a href="10-Tidyverse.html#cb378-17" tabindex="-1"></a>  <span class="fu">theme_dark</span>()</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-401-1.svg" width="672" /></p>
</div>
</div>
<div id="deux-variables-x-et-y-discrètes-1" class="section level3 hasAnchor" number="12.4.5">
<h3><span class="header-section-number">12.4.5</span> Deux variables X et Y discrètes<a href="10-Tidyverse.html#deux-variables-x-et-y-discrètes-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="mosaicplot-r-base-1" class="section level4 hasAnchor" number="12.4.5.1">
<h4><span class="header-section-number">12.4.5.1</span> mosaicplot (R-base)<a href="10-Tidyverse.html#mosaicplot-r-base-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="10-Tidyverse.html#cb379-1" tabindex="-1"></a></span>
<span id="cb379-2"><a href="10-Tidyverse.html#cb379-2" tabindex="-1"></a><span class="fu">mosaicplot</span>(sel<span class="sc">$</span>periode<span class="sc">~</span>sel<span class="sc">$</span>type, </span>
<span id="cb379-3"><a href="10-Tidyverse.html#cb379-3" tabindex="-1"></a>      <span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;yellow&quot;</span>,<span class="st">&quot;orange&quot;</span>),</span>
<span id="cb379-4"><a href="10-Tidyverse.html#cb379-4" tabindex="-1"></a>       <span class="at">xlab=</span><span class="st">&quot;Année&quot;</span>,</span>
<span id="cb379-5"><a href="10-Tidyverse.html#cb379-5" tabindex="-1"></a>       <span class="at">ylab=</span><span class="st">&quot;Type de logement&quot;</span>,</span>
<span id="cb379-6"><a href="10-Tidyverse.html#cb379-6" tabindex="-1"></a>      <span class="at">main=</span> <span class="st">&quot;Ventes de logements à Saint-Maur (2017-2021)&quot;</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-402-1.svg" width="672" /></p>
</div>
<div id="geom_bar-ggplot2-3" class="section level4 hasAnchor" number="12.4.5.2">
<h4><span class="header-section-number">12.4.5.2</span> geom_bar (ggplot2)<a href="10-Tidyverse.html#geom_bar-ggplot2-3" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="10-Tidyverse.html#cb380-1" tabindex="-1"></a></span>
<span id="cb380-2"><a href="10-Tidyverse.html#cb380-2" tabindex="-1"></a>  </span>
<span id="cb380-3"><a href="10-Tidyverse.html#cb380-3" tabindex="-1"></a><span class="co"># On définit les paramètres principaux</span></span>
<span id="cb380-4"><a href="10-Tidyverse.html#cb380-4" tabindex="-1"></a><span class="fu">ggplot</span>(sel,<span class="fu">aes</span>(<span class="at">x=</span> periode, <span class="at">fill =</span> type)) <span class="sc">+</span></span>
<span id="cb380-5"><a href="10-Tidyverse.html#cb380-5" tabindex="-1"></a>  </span>
<span id="cb380-6"><a href="10-Tidyverse.html#cb380-6" tabindex="-1"></a></span>
<span id="cb380-7"><a href="10-Tidyverse.html#cb380-7" tabindex="-1"></a><span class="co"># On ajoute geom_bar</span></span>
<span id="cb380-8"><a href="10-Tidyverse.html#cb380-8" tabindex="-1"></a><span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb380-9"><a href="10-Tidyverse.html#cb380-9" tabindex="-1"></a></span>
<span id="cb380-10"><a href="10-Tidyverse.html#cb380-10" tabindex="-1"></a>  </span>
<span id="cb380-11"><a href="10-Tidyverse.html#cb380-11" tabindex="-1"></a><span class="co"># On ajoute les titres</span></span>
<span id="cb380-12"><a href="10-Tidyverse.html#cb380-12" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name=</span><span class="st">&quot;Année&quot;</span>) <span class="sc">+</span></span>
<span id="cb380-13"><a href="10-Tidyverse.html#cb380-13" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Ventes de logements à Saint-Maur (2017-2021)&quot;</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-403-1.svg" width="672" /></p>
</div>
</div>
</div>
<div id="conclusion-2" class="section level2 hasAnchor" number="12.5">
<h2><span class="header-section-number">12.5</span> Conclusion<a href="10-Tidyverse.html#conclusion-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="r-base-2" class="section level3 hasAnchor" number="12.5.1">
<h3><span class="header-section-number">12.5.1</span> R-base<a href="10-Tidyverse.html#r-base-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>simple d’utilisation</li>
<li>peut être amélioré par des packages spécialisés</li>
<li>permet de créer ses propres fonctions</li>
<li>n’impose pas d’apprendre tidyverse</li>
</ul>
</div>
<div id="ggplot2-1" class="section level3 hasAnchor" number="12.5.2">
<h3><span class="header-section-number">12.5.2</span> ggplot2<a href="10-Tidyverse.html#ggplot2-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>standard mondial du graphisme … actuellement</li>
<li>compatible avec la religion du tidyverse</li>
<li>rédaction séquentielle très efficace</li>
<li>mais apprentissage difficile (plusieurs semaines …)</li>
</ul>
</div>
<div id="le-meilleur-des-deux-mondes-1" class="section level3 hasAnchor" number="12.5.3">
<h3><span class="header-section-number">12.5.3</span> Le meilleur des deux mondes ?<a href="10-Tidyverse.html#le-meilleur-des-deux-mondes-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>ne pas hésiter à combiner les deux</li>
<li>exportation facile des résultats dans les deux cas (pdf, jpeg, png, …)</li>
</ul>
</div>
<div id="plotly-un-challenger-sérieux-de-ggplot-pour-le-web-1" class="section level3 hasAnchor" number="12.5.4">
<h3><span class="header-section-number">12.5.4</span> plotly, un challenger sérieux de ggplot pour le web<a href="10-Tidyverse.html#plotly-un-challenger-sérieux-de-ggplot-pour-le-web-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>plotly crée des graphiques interactifs au format .html</li>
<li>plotly peut convertir des documents ggplot</li>
<li>plotly a une syntaxe proche de ggplot mais avec des fonctionnalités en plus</li>
<li>plotly est multilangage (R, Python, …)</li>
</ul>

</div>
</div>
</div>
<script src="js/tidyverse.js"></script>
            </section>

          </div>
        </div>
      </div>
<a href="10-Cartographie-tmap.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": false,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
    "instapper": false
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/ClaudeGrasland/bivR/blob/main/10-Tidyverse.Rmd",
    "text": "Source"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["bivaR.epub", "bivaR.pdf"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "section"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
